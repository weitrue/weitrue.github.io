<!DOCTYPE html>
<html lang="zh-CN">





<head>
  <meta charset="UTF-8">
  <link rel="apple-touch-icon" sizes="76x76" href="/images/img/logo.png">
  <link rel="icon" type="image/png" href="/img/logo.png">
  <meta name="viewport"
        content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, shrink-to-fit=no">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  
  <meta name="theme-color" content="#2f4154">
  <meta name="description" content="我们相信，未来可期！">
  <meta name="author" content="嗯，我们是对的">
  <meta name="keywords" content="">
  <title>【Mac】Mac使用 - weitrable</title>

  <link  rel="stylesheet" href="https://cdn.staticfile.org/twitter-bootstrap/4.4.1/css/bootstrap.min.css" />


  <link  rel="stylesheet" href="https://cdn.staticfile.org/github-markdown-css/4.0.0/github-markdown.min.css" />
  <link  rel="stylesheet" href="/lib/hint/hint.min.css" />

  
    <link  rel="stylesheet" href="https://cdn.staticfile.org/highlight.js/10.0.0/styles/github-gist.min.css" />
  

  


<!-- 主题依赖的图标库，不要自行修改 -->

<link rel="stylesheet" href="//at.alicdn.com/t/font_1749284_yg9cfy8wd6.css">



<link rel="stylesheet" href="//at.alicdn.com/t/font_1736178_pjno9b9zyxs.css">


<link  rel="stylesheet" href="/css/main.css" />

<!-- 自定义样式保持在最底部 -->


  <script  src="/js/utils.js" ></script>
<meta name="generator" content="Hexo 5.2.0"></head>


<body>
  <header style="height: 70vh;">
    <nav id="navbar" class="navbar fixed-top  navbar-expand-lg navbar-dark scrolling-navbar">
  <div class="container">
    <a class="navbar-brand"
       href="/">&nbsp;<strong>WeiTrable</strong>&nbsp;</a>

    <button id="navbar-toggler-btn" class="navbar-toggler" type="button" data-toggle="collapse"
            data-target="#navbarSupportedContent"
            aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
      <div class="animated-icon"><span></span><span></span><span></span></div>
    </button>

    <!-- Collapsible content -->
    <div class="collapse navbar-collapse" id="navbarSupportedContent">
      <ul class="navbar-nav ml-auto text-center">
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/">
                <i class="iconfont icon-home-fill"></i>
                首页
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/archives/">
                <i class="iconfont icon-archive-fill"></i>
                归档
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/categories/">
                <i class="iconfont icon-category-fill"></i>
                分类
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/book/">
                <i class="iconfont icon-books"></i>
                电子书
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/tags/">
                <i class="iconfont icon-tags-fill"></i>
                标签
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/about/">
                <i class="iconfont icon-user-fill"></i>
                关于
              </a>
            </li>
          
        
        
          <li class="nav-item" id="search-btn">
            <a class="nav-link" data-toggle="modal" data-target="#modalSearch">&nbsp;&nbsp;<i
                class="iconfont icon-search"></i>&nbsp;&nbsp;</a>
          </li>
        
      </ul>
    </div>
  </div>
</nav>

    <div class="view intro-2" id="background" parallax=true
         style="background: url('/images/img/banner.png') no-repeat center center;
           background-size: cover;">
      <div class="full-bg-img">
        <div class="mask flex-center" style="background-color: rgba(0, 0, 0, 0.3)">
          <div class="container text-center white-text fadeInUp">
            <span class="h2" id="subtitle">
              
            </span>

            
              
  <div class="mt-3 post-meta">
    <i class="iconfont icon-date-fill" aria-hidden="true"></i>
    <time datetime="2020-06-22 23:14">
      2020年6月22日 晚上
    </time>
  </div>


<div class="mt-1">
  
    
    <span class="post-meta mr-2">
      <i class="iconfont icon-chart"></i>
      6.9k 字
    </span>
  

  
    
    <span class="post-meta mr-2">
      <i class="iconfont icon-clock-fill"></i>
      
      
      125
       分钟
    </span>
  

  
  
</div>

            
          </div>

          
        </div>
      </div>
    </div>
  </header>

  <main>
    
      

<div class="container-fluid">
  <div class="row">
    <div class="d-none d-lg-block col-lg-2"></div>
    <div class="col-lg-8 nopadding-md">
      <div class="container nopadding-md" id="board-ctn">
        <div class="py-5" id="board">
          <div class="post-content mx-auto" id="post">
            
            <article class="markdown-body">
              <p><img src="/images/Mac%E7%94%B5%E8%84%91%E4%BD%BF%E7%94%A8/mac.jpg" srcset="/img/loading.gif"><a id="more"></a> </p>
<h3 id="Homebrew"><a href="#Homebrew" class="headerlink" title="Homebrew"></a>Homebrew</h3><h4 id="官网"><a href="#官网" class="headerlink" title="官网:"></a>官网:</h4><p><a target="_blank" rel="noopener" href="https://docs.brew.sh/Installation.html">https://docs.brew.sh/Installation.html</a></p>
<h4 id="gihub源"><a href="#gihub源" class="headerlink" title="gihub源"></a>gihub源</h4><p><a target="_blank" rel="noopener" href="https://github.com/Homebrew/install">https://github.com/Homebrew/install</a></p>
<h4 id="homebrew安装"><a href="#homebrew安装" class="headerlink" title="homebrew安装"></a>homebrew安装</h4><pre><code class="hljs awk"><span class="hljs-regexp">/usr/</span>bin<span class="hljs-regexp">/ruby -e &quot;$(curl -fsSL https:/</span><span class="hljs-regexp">/raw.githubusercontent.com/</span>Homebrew<span class="hljs-regexp">/install/m</span>aster/install)<span class="hljs-string">&quot;</span></code></pre>

<p>可能会出现报错</p>
<pre><code class="hljs routeros">curl: (7) Failed <span class="hljs-keyword">to</span> connect <span class="hljs-keyword">to</span> raw.githubusercontent.com<span class="hljs-built_in"> port </span>443:<span class="hljs-built_in"> Connection </span>refused</code></pre>

<p>根据提示可以知道被raw.githubusercontent.com拒绝访问，打开浏览器访问<a target="_blank" rel="noopener" href="https://raw.githubusercontent.com也是失败的,所以此时是电脑与https//raw.githubusercontent.com%E7%9A%84%E8%BF%9E%E6%8E%A5%E9%97%AE%E9%A2%98%EF%BC%9A%E5%8F%AF%E4%BB%A5%E8%80%83%E8%99%91ruby%E7%9A%84%E6%9B%B4%E6%96%B0%E6%BA%90">https://raw.githubusercontent.com也是失败的，所以此时是电脑与https://raw.githubusercontent.com的连接问题：可以考虑ruby的更新源</a></p>
<pre><code class="hljs shell">查看当前更新源
gem sources -l                // 默认情况下会显示https://rubygems.org/ 该ruby源在墙内，很多内容无法访问到
gem source -a https://gems.ruby-china.com    // 更新更新源为https://gems.ruby-china.com
gem sources --remove https://rubygems.org/   // 删除原更新源
gem sources -l      　　　　　　               // 检测是否成功</code></pre>

<p>继续安装</p>
<p><img src="/images/Mac%E7%94%B5%E8%84%91%E4%BD%BF%E7%94%A8/clipboard.png" srcset="/img/loading.gif" alt="img"></p>
<p><code>brew -v</code>检查是否已安装成功</p>
<pre><code class="hljs shell">Homebrew 2.4.0 

Homebrew/homebrew-core (git revision c948b; last commit 2020-06-13)</code></pre>

<h4 id="基本用法"><a href="#基本用法" class="headerlink" title="基本用法"></a>基本用法</h4><p>基于brew安装的所有软件及其依赖均会安装到目录<code>/usr/local/Cellar</code></p>
<h5 id="Brew-帮助信息"><a href="#Brew-帮助信息" class="headerlink" title="Brew 帮助信息"></a>Brew 帮助信息</h5><pre><code class="hljs properties"><span class="hljs-meta">$</span> <span class="hljs-string">brew help</span>
<span class="hljs-attr">Example</span> <span class="hljs-string">usage:</span>
  <span class="hljs-attr">brew</span> <span class="hljs-string">search [TEXT|/REGEX/]</span>
  <span class="hljs-attr">brew</span> <span class="hljs-string">info [FORMULA...]</span>
  <span class="hljs-attr">brew</span> <span class="hljs-string">install FORMULA...</span>
  <span class="hljs-attr">brew</span> <span class="hljs-string">update</span>
  <span class="hljs-attr">brew</span> <span class="hljs-string">upgrade [FORMULA...]</span>
  <span class="hljs-attr">brew</span> <span class="hljs-string">uninstall FORMULA...</span>
  <span class="hljs-attr">brew</span> <span class="hljs-string">list [FORMULA...]</span>

<span class="hljs-attr">Troubleshooting</span>:<span class="hljs-string"></span>
  <span class="hljs-attr">brew</span> <span class="hljs-string">config</span>
  <span class="hljs-attr">brew</span> <span class="hljs-string">doctor</span>
  <span class="hljs-attr">brew</span> <span class="hljs-string">install --verbose --debug FORMULA</span>

<span class="hljs-attr">Contributing</span>:<span class="hljs-string"></span>
  <span class="hljs-attr">brew</span> <span class="hljs-string">create [URL [--no-fetch]]</span>
  <span class="hljs-attr">brew</span> <span class="hljs-string">edit [FORMULA...]</span>

<span class="hljs-attr">Further</span> <span class="hljs-string">help:</span>
  <span class="hljs-attr">brew</span> <span class="hljs-string">commands</span>
  <span class="hljs-attr">brew</span> <span class="hljs-string">help [COMMAND]</span>
  <span class="hljs-attr">man</span> <span class="hljs-string">brew</span>
  <span class="hljs-attr">https</span>:<span class="hljs-string">//docs.brew.sh</span></code></pre>

<h5 id="子命令帮助信息"><a href="#子命令帮助信息" class="headerlink" title="子命令帮助信息"></a>子命令帮助信息</h5><p><code>brew help [COMMAND]或brew [COMMAND] -h</code> 用于查看具体某个子命令的帮助信息。</p>
<p>例如，查看<code>install</code>命令的帮助详情：</p>
<pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> brew install -h</span>
Usage: brew install [options] formula

Install formula. Additional options specific to formula may be appended to
the command.

Unless HOMEBREW_NO_INSTALL_CLEANUP is set, brew cleanup will then be run for
the installed formulae or, every 30 days, for all formulae.

    -d, --debug                      If brewing fails, open an interactive
                                     debugging session with access to IRB or a
                                     shell inside the temporary build directory.
        --env                        If std is passed, use the standard build
                                     environment instead of superenv. If super
                                     is passed, use superenv even if the formula
                                     specifies the standard build environment.
        --ignore-dependencies        An unsupported Homebrew development flag to
                                     skip installing any dependencies of any
                                     kind. If the dependencies are not already
                                     present, the formula will have issues. If
                                     you&#x27;re not developing Homebrew, consider
                                     adjusting your PATH rather than using this
                                     flag.
        --only-dependencies          Install the dependencies with specified
                                     options but do not install the formula
                                     itself.
        --cc                         Attempt to compile using the specified
                                     compiler, which should be the name of the
                                     compiler&#x27;s executable, e.g. gcc-7 for GCC
                                     7. In order to use LLVM&#x27;s clang, specify
                                     llvm_clang. To use the Apple-provided
                                     clang, specify clang. This option will
                                     only accept compilers that are provided by
                                     Homebrew or bundled with macOS. Please do
                                     not file issues if you encounter errors
                                     while using this option.
    -s, --build-from-source          Compile formula from source even if a
                                     bottle is provided. Dependencies will still
                                     be installed from bottles if they are
                                     available.
        --force-bottle               Install from a bottle if it exists for the
                                     current or newest version of macOS, even if
                                     it would not normally be used for
                                     installation.
        --include-test               Install testing dependencies required to
                                     run brew test formula.
        --devel                      If formula defines it, install the
                                     development version.
        --HEAD                       If formula defines it, install the HEAD
                                     version, aka. master, trunk, unstable.
        --fetch-HEAD                 Fetch the upstream repository to detect if
                                     the HEAD installation of the formula is
                                     outdated. Otherwise, the repository&#x27;s HEAD
                                     will only be checked for updates when a new
                                     stable or development version has been
                                     released.
        --keep-tmp                   Retain the temporary files created during
                                     installation.
        --build-bottle               Prepare the formula for eventual bottling
                                     during installation, skipping any
                                     post-install steps.
        --bottle-arch                Optimise bottles for the specified
                                     architecture rather than the oldest
                                     architecture supported by the version of
                                     macOS the bottles are built on.
    -f, --force                      Install without checking for previously
                                     installed keg-only or non-migrated
                                     versions.
    -v, --verbose                    Print the verification and postinstall
                                     steps.
        --display-times              Print install times for each formula at the
                                     end of the run.
    -i, --interactive                Download and patch formula, then open a
                                     shell. This allows the user to run
                                     ./configure --help and otherwise
                                     determine how to turn the software package
                                     into a Homebrew package.
    -g, --git                        Create a Git repository, useful for
                                     creating patches to the software.
    -h, --help                       Show this message.</code></pre>

<h5 id="搜索软件"><a href="#搜索软件" class="headerlink" title="搜索软件"></a>搜索软件</h5><p> <code>brew search [TEXT|/REGEX/]</code> 用于搜索软件，支持使用正则表达式进行复杂的搜索。</p>
<p>例如，查询静态博客生成工具hugo：</p>
<pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> brew search hugo</span>
==&gt; Formulae
hugo</code></pre>

<h5 id="查看软件信息"><a href="#查看软件信息" class="headerlink" title="查看软件信息"></a>查看软件信息</h5><p> <code>brew info [FORMULA...]</code> 用于查询软件的详细信息。</p>
<p>例如，查看软件hugo的详细信息：</p>
<pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> brew search hugo</span>
==&gt; Formulae
hugo
<span class="hljs-meta">$</span><span class="bash"> brew info hugo</span>
hugo: stable 0.72.0 (bottled), HEAD
Configurable static site generator
https://gohugo.io/
Not installed
From: https://mirrors.tuna.tsinghua.edu.cn/git/homebrew/homebrew-core.git/Formula/hugo.rb
==&gt; Dependencies
Build: go ✘
==&gt; Options
--HEAD
	Install HEAD version
==&gt; Analytics
install: 26,782 (30 days), 84,656 (90 days), 287,304 (365 days)
install-on-request: 26,266 (30 days), 82,887 (90 days), 279,634 (365 days)
build-error: 0 (30 days)</code></pre>

<p>以上查询所得信息，包含了软件的最新可用版本，本机是否已安装，本机已安装的版本，安装的路径、大小、时间、Tap 源，所依赖的包，以及安装的可选项等详细信息。而这些信息可以帮助我们很方便快捷的了解如何对该软件进行相应的操作。</p>
<h5 id="安装软件包"><a href="#安装软件包" class="headerlink" title="安装软件包"></a>安装软件包</h5><p> <code>brew install FORMULA... </code>用于安装一个或多个软件。</p>
<p>例如，安装软件hugo：</p>
<pre><code class="hljs mipsasm"><span class="hljs-keyword">brew </span><span class="hljs-keyword">install </span>hugo</code></pre>

<p>安装软件命令执行之前，brew 一般会先检查更新 Homebrew 自身及 Tap 源。</p>
<h5 id="更新软件包"><a href="#更新软件包" class="headerlink" title="更新软件包"></a>更新软件包</h5><p> <code>brew upgrade [FORMULA...]</code> 用于更新一个或多个软件，不指定软件名则更新所有软件。</p>
<h5 id="卸载软件包"><a href="#卸载软件包" class="headerlink" title="卸载软件包"></a>卸载软件包</h5><p><code>brew uninstall FORMULA...</code> 用于卸载指定的一个或多个软件</p>
<p><code>brew uninstall --force FORMULA...</code> 彻底卸载指定软件，包括旧版本</p>
<h5 id="已安装的软件列表"><a href="#已安装的软件列表" class="headerlink" title="已安装的软件列表"></a>已安装的软件列表</h5><p> <code>brew list</code> 用于查询本机已安装的软件列表</p>
<pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> brew list</span>
apr		gettext		lz4		pcre2		python		sqlite		utf8proc
apr-util	go		mysql-client	perl		python@2	subversion	xz
gdbm		libzip		openssl@1.1	pkg-config	readline	tldr</code></pre>

<h5 id="服务管理"><a href="#服务管理" class="headerlink" title="服务管理"></a>服务管理</h5><p> <code>brew services</code> 用于方便的管理 brew 安装的软件软件，类似于 Linux 下的 service 命令。</p>
<h5 id="检查可更新的软件列表"><a href="#检查可更新的软件列表" class="headerlink" title="检查可更新的软件列表"></a>检查可更新的软件列表</h5><p> <code>brew outdated</code> 可查询有更新版本的软件</p>
<pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> brew outdated </span>
gettext (0.20.1) &lt; 0.20.2_1
go (1.13.8) &lt; 1.14.3
libzip (1.6.1) &lt; 1.7.1
mysql-client (8.0.18) &lt; 8.0.19
openssl@1.1 (1.1.1d) &lt; 1.1.1g
pcre2 (10.34) &lt; 10.35
perl (5.30.1) &lt; 5.30.3
pkg-config (0.29.2) &lt; 0.29.2_3
python (3.7.6_1) &lt; 3.7.7
readline (8.0.1) &lt; 8.0.4
sqlite (3.30.1) &lt; 3.32.1
subversion (1.13.0_1) &lt; 1.14.0_1
utf8proc (2.4.0) &lt; 2.5.0
xz (5.2.4) &lt; 5.2.5</code></pre>

<h5 id="清理软件"><a href="#清理软件" class="headerlink" title="清理软件"></a>清理软件</h5><p><code>brew cleanup -n</code> 列出需要清理的内容</p>
<p><code>brew cleanup</code> 清理所有的过时软件 </p>
<p><code>brew cleanup [FORMULA]</code> 清理指定软件的过时包</p>
<h5 id="查看配置信息"><a href="#查看配置信息" class="headerlink" title="查看配置信息"></a>查看配置信息</h5><p><code>brew config</code> 用于查看 brew 所在环境及相关的配置情况</p>
<pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> brew config</span>
HOMEBREW_VERSION: 2.4.0
ORIGIN: https://mirrors.tuna.tsinghua.edu.cn/git/homebrew/homebrew-cask-drivers.git
HEAD: 28ed0801ed5807e176e62a3ba66e47ec867ec17d
Last commit: 3 days ago
Core tap ORIGIN: https://mirrors.tuna.tsinghua.edu.cn/git/homebrew/homebrew-core.git
Core tap HEAD: c948bc65d13a2bdd43e5ef2ed4196930c731283c
Core tap last commit: 11 hours ago
HOMEBREW_PREFIX: /usr/local
HOMEBREW_BOTTLE_DOMAIN: https://mirrors.tuna.tsinghua.edu.cn/homebrew-bottles
HOMEBREW_MAKE_JOBS: 8
CPU: octa-core 64-bit kabylake
Homebrew Ruby: 2.6.3 =&gt; /usr/local/Homebrew/Library/Homebrew/vendor/portable-ruby/2.6.3_1/bin/ruby
Clang: 11.0 build 1103
Git: 2.24.1 =&gt; /Library/Developer/CommandLineTools/usr/bin/git
Curl: 7.64.1 =&gt; /usr/bin/curl
Java: 1.8.0_212
macOS: 10.15.4-x86_64
CLT: 1103.0.32.29
Xcode: N/A</code></pre>

<h5 id="诊断问题"><a href="#诊断问题" class="headerlink" title="诊断问题"></a>诊断问题</h5><p> <code>brew doctor</code> 诊断当前 brew 存在哪些问题，并给出解决方案</p>
<h5 id="仓库管理"><a href="#仓库管理" class="headerlink" title="仓库管理"></a>仓库管理</h5><p><code>brew tap</code> 已安装的仓库列表</p>
<p><code>brew tap [--full] user/repo [URL]</code> 添加仓库</p>
<p><code>brew untap tap</code> 移除仓库</p>
<pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> brew tap</span>
homebrew/cask
homebrew/cask-drivers
homebrew/cask-fonts
homebrew/core
homebrew/services
tldr-pages/tldr</code></pre>

<h4 id="镜像源"><a href="#镜像源" class="headerlink" title="镜像源"></a>镜像源</h4><p>清华大学开源软件镜像站</p>
<p><a target="_blank" rel="noopener" href="https://mirrors.tuna.tsinghua.edu.cn/help/homebrew/">Homebrew 镜像使用帮助</a></p>
<pre><code class="hljs shell"><span class="hljs-meta">#</span><span class="bash"> 替换现有上游</span>
<span class="hljs-meta">#</span><span class="bash"> 以下针对 mac OS 系统上的 Homebrew</span>
git -C &quot;$(brew --repo homebrew/core)&quot; remote set-url origin https://mirrors.tuna.tsinghua.edu.cn/git/homebrew/homebrew-core.git
git -C &quot;$(brew --repo homebrew/cask)&quot; remote set-url origin https://mirrors.tuna.tsinghua.edu.cn/git/homebrew/homebrew-cask.git
git -C &quot;$(brew --repo homebrew/cask-fonts)&quot; remote set-url origin https://mirrors.tuna.tsinghua.edu.cn/git/homebrew/homebrew-cask-fonts.git
git -C &quot;$(brew --repo homebrew/cask-drivers)&quot; remote set-url origin https://mirrors.tuna.tsinghua.edu.cn/git/homebrew/homebrew-cask-drivers.git
<span class="hljs-meta">#</span><span class="bash"> 更换后测试工作是否正常</span>
brew update

<span class="hljs-meta">#</span><span class="bash"> 复原</span>
<span class="hljs-meta">#</span><span class="bash"> 以下针对 mac OS 系统上的 Homebrew</span>
git -C &quot;$(brew --repo homebrew/core)&quot; remote set-url origin https://github.com/Homebrew/homebrew-core.git
git -C &quot;$(brew --repo homebrew/cask)&quot; remote set-url origin https://github.com/Homebrew/homebrew-cask.git
git -C &quot;$(brew --repo homebrew/cask-fonts)&quot; remote set-url origin https://github.com/Homebrew/homebrew-cask-fonts.git
git -C &quot;$(brew --repo homebrew/cask-drivers)&quot; remote set-url origin https://github.com/Homebrew/homebrew-cask-drivers.git
<span class="hljs-meta">#</span><span class="bash"> 更换后测试工作是否正常</span>
brew update</code></pre>

<p><a target="_blank" rel="noopener" href="https://mirrors.tuna.tsinghua.edu.cn/help/homebrew-bottles/">Homebrew-bottles 镜像使用帮助</a></p>
<pre><code class="hljs shell"><span class="hljs-meta">#</span><span class="bash"> 临时替换</span>
export HOMEBREW_BOTTLE_DOMAIN=https://mirrors.tuna.tsinghua.edu.cn/homebrew-bottles

<span class="hljs-meta">#</span><span class="bash"> 长期替换</span>
echo &#x27;export HOMEBREW_BOTTLE_DOMAIN=https://mirrors.tuna.tsinghua.edu.cn/homebrew-bottles&#x27; &gt;&gt; ~/.bash_profile
source ~/.bash_profile</code></pre>

<h3 id="Python虚拟环境（VirtualEnv）"><a href="#Python虚拟环境（VirtualEnv）" class="headerlink" title="Python虚拟环境（VirtualEnv）"></a>Python虚拟环境（VirtualEnv）</h3><h4 id="virtualenv"><a href="#virtualenv" class="headerlink" title="virtualenv"></a>virtualenv</h4><h5 id="安装virtualenv环境"><a href="#安装virtualenv环境" class="headerlink" title="安装virtualenv环境"></a>安装virtualenv环境</h5><pre><code class="hljs shell">pip install virtualenv
<span class="hljs-meta">#</span><span class="bash">检查是否安装成功</span>
virtualenv --version</code></pre>

<h5 id="创建以及使用虚拟环境"><a href="#创建以及使用虚拟环境" class="headerlink" title="创建以及使用虚拟环境"></a>创建以及使用虚拟环境</h5><h6 id="创建时指定位置方式"><a href="#创建时指定位置方式" class="headerlink" title="创建时指定位置方式"></a>创建时指定位置方式</h6><pre><code class="hljs shell"><span class="hljs-meta">#</span><span class="bash"> 创建python3环境</span>
virtualenv -p python3 ~/Projects/PythonEnv/py3_normal/
<span class="hljs-meta">#</span><span class="bash"> 进入虚拟环境</span>
cd ~/Projects/PythonEnv/py3_normal/bin
source activate
<span class="hljs-meta">#</span><span class="bash"> 退出环境</span>
deactivate</code></pre>

<h6 id="虚拟环境管理器方式"><a href="#虚拟环境管理器方式" class="headerlink" title="虚拟环境管理器方式"></a>虚拟环境管理器方式</h6><pre><code class="hljs shell"><span class="hljs-meta">#</span><span class="bash"> 安装虚拟环境管理器</span>
pip install virtualenvwrapper
<span class="hljs-meta">#</span><span class="bash"> 配置虚拟环境管理器环境-添加配置</span>
vim ~/.bash_profile

WORKON_HOME=~/Projects/PythonEnv
PROJECT_HOME=~/Projects/MyPython
export WORKON_HOME
export PROJECT_HOME
VIRTUALENVWRAPPER_PYTHON=/usr/local/bin/python3
source /usr/local/bin/virtualenvwrapper.sh
<span class="hljs-meta">#</span><span class="bash">保存-生效配置</span>
source ~/.bash_profile

<span class="hljs-meta">#</span><span class="bash"> 创建虚拟环境</span>
<span class="hljs-meta">#</span><span class="bash"><span class="hljs-comment"># 创建python2的虚拟环境</span></span>
mkvirtualenv &lt;虚拟环境名&gt;
<span class="hljs-meta">#</span><span class="bash"><span class="hljs-comment"># 创建python3的虚拟环境</span></span>
mkvirtualenv -p python3 &lt;虚拟环境名&gt;
<span class="hljs-meta">#</span><span class="bash"> 进入/切换虚拟环境</span>
workon &lt;虚拟环境名&gt;
<span class="hljs-meta">#</span><span class="bash"> 退出虚拟环境</span>
deactivate

<span class="hljs-meta">#</span><span class="bash"> 其他命令</span>
lsvirtualenv   # 查看虚拟环境列表
lssitepackages # 查看当前环境中安装的那些包（启动虚拟环境后）
rmvirtualenv   # 虚拟环境名 删除虚拟环境</code></pre>

<h4 id="Anaconda-or-Miniconda"><a href="#Anaconda-or-Miniconda" class="headerlink" title="Anaconda or Miniconda"></a>Anaconda or Miniconda</h4><h5 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h5><p>清华大学开源软件镜像站 <a target="_blank" rel="noopener" href="https://mirrors.tuna.tsinghua.edu.cn/anaconda/miniconda/">https://mirrors.tuna.tsinghua.edu.cn/anaconda/miniconda/</a></p>
<pre><code class="hljs shell"><span class="hljs-meta">#</span><span class="bash"> Download</span>
wget https://mirrors.tuna.tsinghua.edu.cn/anaconda/miniconda/Miniconda-3.4.2-MacOSX-x86_64.sh
<span class="hljs-meta">#</span><span class="bash"> Install</span>
bash Miniconda-3.4.2-MacOSX-x86_64.sh
<span class="hljs-meta">#</span><span class="bash"> Activate</span>
source .bashrc</code></pre>

<h5 id="创建以及使用虚拟环境-1"><a href="#创建以及使用虚拟环境-1" class="headerlink" title="创建以及使用虚拟环境"></a>创建以及使用虚拟环境</h5><pre><code class="hljs shell">- Create a new environment, installing named packages into it:
    conda create --name environment_name python=2.7 matplotlib

- List all environments:
    conda info --envs

- Load or unload an environment:
    conda activate|deactivate environment_name

- Delete an environment (remove all packages):
    conda remove --name environment_name --all

- Search conda channels for a package by name:
    conda search package_name

- Install packages into the current environment:
    conda install python=3.4 numpy

- List currently installed packages in current environment:
    conda list

- Delete unused packages and caches:
    conda clean --all</code></pre>



<h3 id="Python-pip-配置国内源-pip-install-Read-timed-out"><a href="#Python-pip-配置国内源-pip-install-Read-timed-out" class="headerlink" title="Python pip 配置国内源[pip install Read timed out]"></a>Python pip 配置国内源[pip install Read timed out]</h3><h4 id="【方式一】临时生效"><a href="#【方式一】临时生效" class="headerlink" title="【方式一】临时生效"></a>【方式一】临时生效</h4><pre><code class="hljs awk"><span class="hljs-comment"># 在安装时加上镜像源</span>
pip install &lt;库名&gt; -i https:<span class="hljs-regexp">//</span>pypi.douban.com<span class="hljs-regexp">/simple/</span> --trusted-host pypi.douban.compyth</code></pre>

<p><strong>方式二】永久指定</strong></p>
<h5 id="国内源列表（推荐用阿里云的）"><a href="#国内源列表（推荐用阿里云的）" class="headerlink" title="国内源列表（推荐用阿里云的）"></a>国内源列表（推荐用阿里云的）</h5><p>阿里云<code>http://mirrors.aliyun.com/pypi/simple/</code></p>
<p>中国科技大学 <code>https://pypi.mirrors.ustc.edu.cn/simple/</code></p>
<p>豆瓣 (douban) <code>https://pypi.douban.com/simple/</code></p>
<p>清华大学 <code>https://pypi.tuna.tsinghua.edu.cn/simple/</code></p>
<p>中国科学技术大学 <code>http://pypi.mirrors.ustc.edu.cn/simple/</code></p>
<h5 id="永久指定方式"><a href="#永久指定方式" class="headerlink" title="永久指定方式"></a>永久指定方式</h5><pre><code class="hljs shell">mkdir .pip	# 在家目录下创建一个.pip目录
~ cd pip
~ touch pip.conf # 创建一个pip配置文件
<span class="hljs-meta">#</span><span class="bash"> 写入配置</span>
[global]
index-url = http://mirrors.aliyun.com/pypi/simple/
[install]
trusted-host = mirrors.aliyun.com</code></pre>



<h3 id="开发配置"><a href="#开发配置" class="headerlink" title="开发配置"></a>开发配置</h3><h4 id="Iterm2"><a href="#Iterm2" class="headerlink" title="Iterm2"></a>Iterm2</h4><h4 id="oh-my-zsh"><a href="#oh-my-zsh" class="headerlink" title="oh-my-zsh"></a>oh-my-zsh</h4><h4 id="tldr"><a href="#tldr" class="headerlink" title="tldr"></a>tldr</h4><h3 id="Catalina升级Sur-Big遇到的坑"><a href="#Catalina升级Sur-Big遇到的坑" class="headerlink" title="Catalina升级Sur Big遇到的坑"></a>Catalina升级Sur Big遇到的坑</h3><h4 id="Homebrew-1"><a href="#Homebrew-1" class="headerlink" title="Homebrew"></a>Homebrew</h4><h5 id="brew报错：-initialize’-Version-value-must-be-a-string-got-a-NilClass-TypeError"><a href="#brew报错：-initialize’-Version-value-must-be-a-string-got-a-NilClass-TypeError" class="headerlink" title="brew报错：`initialize’: Version value must be a string; got a NilClass () (TypeError)"></a>brew报错：`initialize’: Version value must be a string; got a NilClass () (TypeError)</h5><pre><code class="hljs Python">brew <span class="hljs-built_in">list</span>
Traceback (most recent call last):
    <span class="hljs-number">11</span>: <span class="hljs-keyword">from</span> /usr/local/Homebrew/Library/Homebrew/brew.rb:<span class="hljs-number">23</span>:<span class="hljs-keyword">in</span> `&lt;main&gt;<span class="hljs-string">&#x27;</span>
<span class="hljs-string">    10: from /usr/local/Homebrew/Library/Homebrew/brew.rb:23:in `require_relative&#x27;</span>
     <span class="hljs-number">9</span>: <span class="hljs-keyword">from</span> /usr/local/Homebrew/Library/Homebrew/<span class="hljs-keyword">global</span>.rb:<span class="hljs-number">29</span>:<span class="hljs-keyword">in</span> `&lt;top (required)&gt;<span class="hljs-string">&#x27;</span>
<span class="hljs-string">     8: from /System/Library/Frameworks/Ruby.framework/Versions/2.6/usr/lib/ruby/2.6.0/rubygems/core_ext/kernel_require.rb:54:in `require&#x27;</span>
     <span class="hljs-number">7</span>: <span class="hljs-keyword">from</span> /System/Library/Frameworks/Ruby.framework/Versions/<span class="hljs-number">2.6</span>/usr/lib/ruby/<span class="hljs-number">2.6</span><span class="hljs-number">.0</span>/rubygems/core_ext/kernel_require.rb:<span class="hljs-number">54</span>:<span class="hljs-keyword">in</span> `require<span class="hljs-string">&#x27;</span>
<span class="hljs-string">     6: from /usr/local/Homebrew/Library/Homebrew/os.rb:3:in `&lt;top (required)&gt;&#x27;</span>
     <span class="hljs-number">5</span>: <span class="hljs-keyword">from</span> /usr/local/Homebrew/Library/Homebrew/os.rb:<span class="hljs-number">21</span>:<span class="hljs-keyword">in</span> `&lt;module:OS&gt;<span class="hljs-string">&#x27;</span>
<span class="hljs-string">     4: from /usr/local/Homebrew/Library/Homebrew/os/mac.rb:58:in `prerelease?&#x27;</span>
     <span class="hljs-number">3</span>: <span class="hljs-keyword">from</span> /usr/local/Homebrew/Library/Homebrew/os/mac.rb:<span class="hljs-number">24</span>:<span class="hljs-keyword">in</span> `version<span class="hljs-string">&#x27;</span>
<span class="hljs-string">     2: from /usr/local/Homebrew/Library/Homebrew/os/mac.rb:24:in `new&#x27;</span>
     <span class="hljs-number">1</span>: <span class="hljs-keyword">from</span> /usr/local/Homebrew/Library/Homebrew/os/mac/version.rb:<span class="hljs-number">26</span>:<span class="hljs-keyword">in</span> `initialize<span class="hljs-string">&#x27;</span>
<span class="hljs-string">/usr/local/Homebrew/Library/Homebrew/version.rb:368:in `initialize&#x27;</span>: Version value must be a string; got a NilClass () (TypeError)</code></pre>

<p>根据Traceback信息可以发现/usr/local/Homebrew/Library/Homebrew/os/mac/version.rb中报错,vim打开该文件</p>
<pre><code class="hljs Python">vim /usr/local/Homebrew/Library/Homebrew/os/mac/version.rb
<span class="hljs-comment"># typed: true</span>
<span class="hljs-comment"># frozen_string_literal: true</span>

require <span class="hljs-string">&quot;hardware&quot;</span>
require <span class="hljs-string">&quot;version&quot;</span>

module OS
  module Mac
    <span class="hljs-comment"># A macOS version.</span>
    <span class="hljs-comment">#</span>
    <span class="hljs-comment"># @api private</span>
    <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Version</span> &lt; :</span>:Version
      SYMBOLS = 
        catalina:    <span class="hljs-string">&quot;10.15&quot;</span>,
        mojave:      <span class="hljs-string">&quot;10.14&quot;</span>,
        high_sierra: <span class="hljs-string">&quot;10.13&quot;</span>,
        sierra:      <span class="hljs-string">&quot;10.12&quot;</span>,
        el_capitan:  <span class="hljs-string">&quot;10.11&quot;</span>,
        yosemite:    <span class="hljs-string">&quot;10.10&quot;</span>,
      &#125;.freeze

      <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">self</span>.<span class="hljs-title">from_symbol</span>(<span class="hljs-params">sym</span>)</span>
        str = SYMBOLS.fetch(sym) &#123; raise MacOSVersionError, sym &#125;
        new(<span class="hljs-built_in">str</span>)
      end

      <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">initialize</span>(<span class="hljs-params">value</span>)</span>
<span class="hljs-function">        <span class="hljs-title">super</span>(<span class="hljs-params">value</span>)</span>
<span class="hljs-function"></span>
        raise MacOSVersionError, value unless value.match?(/\A1\d+(?:\.\d+)&#123;0,2&#125;\Z/)</code></pre>

<p>从代码中可以看出,该版本的Homebrew不支持Sur Big系统,于是解决方案是更新Homebrew</p>
<pre><code class="hljs bash">brew update-reset</code></pre>

<p>结果,brew没了,命令输入brew报错</p>
<pre><code class="hljs bash">zsh:brew: <span class="hljs-built_in">command</span> not found</code></pre>

<p>无奈只能重新安装</p>
<p>但是这次就没有那么幸运,ruby源已更换成国内的</p>
<p>使用科学上网,也无法访问<a target="_blank" rel="noopener" href="https://raw.githubusercontent.com/">https://raw.githubusercontent.com</a></p>
<p>于是只能另寻方法,Google上找到.bash脚本</p>
<p>桌面创建.bash文件</p>
<pre><code class="hljs awk">vim <span class="hljs-regexp">/Desktop/</span>brew_install.sh</code></pre>

<p>脚本内容</p>
<pre><code class="hljs bash"><span class="hljs-meta">#!/bin/bash</span>
<span class="hljs-built_in">set</span> -u

<span class="hljs-comment"># First check if the OS is Linux.</span>
<span class="hljs-keyword">if</span> [[ <span class="hljs-string">&quot;<span class="hljs-subst">$(uname)</span>&quot;</span> = <span class="hljs-string">&quot;Linux&quot;</span> ]]; <span class="hljs-keyword">then</span>
  HOMEBREW_ON_LINUX=1
<span class="hljs-keyword">fi</span>

<span class="hljs-comment"># Check if macOS is ARM</span>
<span class="hljs-keyword">if</span> [[ <span class="hljs-string">&quot;<span class="hljs-subst">$(uname -m)</span>&quot;</span> = <span class="hljs-string">&quot;arm64&quot;</span> ]] &amp;&amp; [[ <span class="hljs-string">&quot;<span class="hljs-subst">$(uname)</span>&quot;</span> = <span class="hljs-string">&quot;Darwin&quot;</span> ]]; <span class="hljs-keyword">then</span>
  HOMEBREW_APPLE_SILICON=1
<span class="hljs-keyword">fi</span>

<span class="hljs-comment"># On macOS, this script installs to /usr/local only.</span>
<span class="hljs-comment"># On Linux, it installs to /home/linuxbrew/.linuxbrew if you have sudo access</span>
<span class="hljs-comment"># and ~/.linuxbrew otherwise.</span>
<span class="hljs-comment"># To install elsewhere (which is unsupported)</span>
<span class="hljs-comment"># you can untar https://github.com/Homebrew/brew/tarball/master</span>
<span class="hljs-comment"># anywhere you like.</span>
<span class="hljs-keyword">if</span> [[ -z <span class="hljs-string">&quot;<span class="hljs-variable">$&#123;HOMEBREW_ON_LINUX-&#125;</span>&quot;</span> ]]; <span class="hljs-keyword">then</span>
  HOMEBREW_PREFIX=<span class="hljs-string">&quot;/usr/local&quot;</span>
  HOMEBREW_REPOSITORY=<span class="hljs-string">&quot;/usr/local/Homebrew&quot;</span>
  HOMEBREW_CACHE=<span class="hljs-string">&quot;<span class="hljs-variable">$&#123;HOME&#125;</span>/Library/Caches/Homebrew&quot;</span>

  STAT=<span class="hljs-string">&quot;stat -f&quot;</span>
  CHOWN=<span class="hljs-string">&quot;/usr/sbin/chown&quot;</span>
  CHGRP=<span class="hljs-string">&quot;/usr/bin/chgrp&quot;</span>
  GROUP=<span class="hljs-string">&quot;admin&quot;</span>
  TOUCH=<span class="hljs-string">&quot;/usr/bin/touch&quot;</span>
<span class="hljs-keyword">else</span>
  HOMEBREW_PREFIX_DEFAULT=<span class="hljs-string">&quot;/home/linuxbrew/.linuxbrew&quot;</span>
  HOMEBREW_CACHE=<span class="hljs-string">&quot;<span class="hljs-variable">$&#123;HOME&#125;</span>/.cache/Homebrew&quot;</span>

  STAT=<span class="hljs-string">&quot;stat --printf&quot;</span>
  CHOWN=<span class="hljs-string">&quot;/bin/chown&quot;</span>
  CHGRP=<span class="hljs-string">&quot;/bin/chgrp&quot;</span>
  GROUP=<span class="hljs-string">&quot;<span class="hljs-subst">$(id -gn)</span>&quot;</span>
  TOUCH=<span class="hljs-string">&quot;/bin/touch&quot;</span>
<span class="hljs-keyword">fi</span>
BREW_REPO=<span class="hljs-string">&quot;https://github.com/Homebrew/brew&quot;</span>

<span class="hljs-comment"># <span class="hljs-doctag">TODO:</span> bump version when new macOS is released</span>
MACOS_LATEST_SUPPORTED=<span class="hljs-string">&quot;10.15&quot;</span>
<span class="hljs-comment"># <span class="hljs-doctag">TODO:</span> bump version when new macOS is released</span>
MACOS_OLDEST_SUPPORTED=<span class="hljs-string">&quot;10.13&quot;</span>

<span class="hljs-comment"># For Homebrew on Linux</span>
REQUIRED_RUBY_VERSION=2.6  <span class="hljs-comment"># https://github.com/Homebrew/brew/pull/6556</span>
REQUIRED_GLIBC_VERSION=2.13  <span class="hljs-comment"># https://docs.brew.sh/Homebrew-on-Linux#requirements</span>

<span class="hljs-comment"># no analytics during installation</span>
<span class="hljs-built_in">export</span> HOMEBREW_NO_ANALYTICS_THIS_RUN=1
<span class="hljs-built_in">export</span> HOMEBREW_NO_ANALYTICS_MESSAGE_OUTPUT=1

<span class="hljs-comment"># string formatters</span>
<span class="hljs-keyword">if</span> [[ -t 1 ]]; <span class="hljs-keyword">then</span>
  <span class="hljs-function"><span class="hljs-title">tty_escape</span></span>() &#123; <span class="hljs-built_in">printf</span> <span class="hljs-string">&quot;\033[%sm&quot;</span> <span class="hljs-string">&quot;<span class="hljs-variable">$1</span>&quot;</span>; &#125;
<span class="hljs-keyword">else</span>
  <span class="hljs-function"><span class="hljs-title">tty_escape</span></span>() &#123; :; &#125;
<span class="hljs-keyword">fi</span>
<span class="hljs-function"><span class="hljs-title">tty_mkbold</span></span>() &#123; tty_escape <span class="hljs-string">&quot;1;<span class="hljs-variable">$1</span>&quot;</span>; &#125;
tty_underline=<span class="hljs-string">&quot;<span class="hljs-subst">$(tty_escape <span class="hljs-string">&quot;4;39&quot;</span>)</span>&quot;</span>
tty_blue=<span class="hljs-string">&quot;<span class="hljs-subst">$(tty_mkbold 34)</span>&quot;</span>
tty_red=<span class="hljs-string">&quot;<span class="hljs-subst">$(tty_mkbold 31)</span>&quot;</span>
tty_bold=<span class="hljs-string">&quot;<span class="hljs-subst">$(tty_mkbold 39)</span>&quot;</span>
tty_reset=<span class="hljs-string">&quot;<span class="hljs-subst">$(tty_escape 0)</span>&quot;</span>

<span class="hljs-function"><span class="hljs-title">have_sudo_access</span></span>() &#123;
  <span class="hljs-built_in">local</span> -a args
  <span class="hljs-keyword">if</span> [[ -n <span class="hljs-string">&quot;<span class="hljs-variable">$&#123;SUDO_ASKPASS-&#125;</span>&quot;</span> ]]; <span class="hljs-keyword">then</span>
    args=(<span class="hljs-string">&quot;-A&quot;</span>)
  <span class="hljs-keyword">fi</span>

  <span class="hljs-keyword">if</span> [[ -z <span class="hljs-string">&quot;<span class="hljs-variable">$&#123;HAVE_SUDO_ACCESS-&#125;</span>&quot;</span> ]]; <span class="hljs-keyword">then</span>
    <span class="hljs-keyword">if</span> [[ -n <span class="hljs-string">&quot;<span class="hljs-variable">$&#123;args[*]-&#125;</span>&quot;</span> ]]; <span class="hljs-keyword">then</span>
      /usr/bin/sudo <span class="hljs-string">&quot;<span class="hljs-variable">$&#123;args[@]&#125;</span>&quot;</span> -l mkdir &amp;&gt;/dev/null
    <span class="hljs-keyword">else</span>
      /usr/bin/sudo -l mkdir &amp;&gt;/dev/null
    <span class="hljs-keyword">fi</span>
    HAVE_SUDO_ACCESS=<span class="hljs-string">&quot;$?&quot;</span>
  <span class="hljs-keyword">fi</span>

  <span class="hljs-keyword">if</span> [[ -z <span class="hljs-string">&quot;<span class="hljs-variable">$&#123;HOMEBREW_ON_LINUX-&#125;</span>&quot;</span> ]] &amp;&amp; [[ <span class="hljs-string">&quot;<span class="hljs-variable">$HAVE_SUDO_ACCESS</span>&quot;</span> -ne 0 ]]; <span class="hljs-keyword">then</span>
    abort <span class="hljs-string">&quot;Need sudo access on macOS (e.g. the user <span class="hljs-variable">$USER</span> to be an Administrator)!&quot;</span>
  <span class="hljs-keyword">fi</span>

  <span class="hljs-built_in">return</span> <span class="hljs-string">&quot;<span class="hljs-variable">$HAVE_SUDO_ACCESS</span>&quot;</span>
&#125;

<span class="hljs-function"><span class="hljs-title">shell_join</span></span>() &#123;
  <span class="hljs-built_in">local</span> arg
  <span class="hljs-built_in">printf</span> <span class="hljs-string">&quot;%s&quot;</span> <span class="hljs-string">&quot;<span class="hljs-variable">$1</span>&quot;</span>
  <span class="hljs-built_in">shift</span>
  <span class="hljs-keyword">for</span> arg <span class="hljs-keyword">in</span> <span class="hljs-string">&quot;<span class="hljs-variable">$@</span>&quot;</span>; <span class="hljs-keyword">do</span>
    <span class="hljs-built_in">printf</span> <span class="hljs-string">&quot; &quot;</span>
    <span class="hljs-built_in">printf</span> <span class="hljs-string">&quot;%s&quot;</span> <span class="hljs-string">&quot;<span class="hljs-variable">$&#123;arg// /\ &#125;</span>&quot;</span>
  <span class="hljs-keyword">done</span>
&#125;

<span class="hljs-function"><span class="hljs-title">chomp</span></span>() &#123;
  <span class="hljs-built_in">printf</span> <span class="hljs-string">&quot;%s&quot;</span> <span class="hljs-string">&quot;<span class="hljs-variable">$&#123;1/&quot;$&#x27;\n&#x27;&quot;/&#125;</span>&quot;</span>
&#125;

<span class="hljs-function"><span class="hljs-title">ohai</span></span>() &#123;
  <span class="hljs-built_in">printf</span> <span class="hljs-string">&quot;<span class="hljs-variable">$&#123;tty_blue&#125;</span>==&gt;<span class="hljs-variable">$&#123;tty_bold&#125;</span> %s<span class="hljs-variable">$&#123;tty_reset&#125;</span>\n&quot;</span> <span class="hljs-string">&quot;<span class="hljs-subst">$(shell_join <span class="hljs-string">&quot;<span class="hljs-variable">$@</span>&quot;</span>)</span>&quot;</span>
&#125;

<span class="hljs-function"><span class="hljs-title">warn</span></span>() &#123;
  <span class="hljs-built_in">printf</span> <span class="hljs-string">&quot;<span class="hljs-variable">$&#123;tty_red&#125;</span>Warning<span class="hljs-variable">$&#123;tty_reset&#125;</span>: %s\n&quot;</span> <span class="hljs-string">&quot;<span class="hljs-subst">$(chomp <span class="hljs-string">&quot;<span class="hljs-variable">$1</span>&quot;</span>)</span>&quot;</span>
&#125;

<span class="hljs-function"><span class="hljs-title">abort</span></span>() &#123;
  <span class="hljs-built_in">printf</span> <span class="hljs-string">&quot;%s\n&quot;</span> <span class="hljs-string">&quot;<span class="hljs-variable">$1</span>&quot;</span>
  <span class="hljs-built_in">exit</span> 1
&#125;

<span class="hljs-function"><span class="hljs-title">execute</span></span>() &#123;
  <span class="hljs-keyword">if</span> ! <span class="hljs-string">&quot;<span class="hljs-variable">$@</span>&quot;</span>; <span class="hljs-keyword">then</span>
    abort <span class="hljs-string">&quot;<span class="hljs-subst">$(printf <span class="hljs-string">&quot;Failed during: %s&quot;</span> <span class="hljs-string">&quot;<span class="hljs-subst">$(shell_join <span class="hljs-string">&quot;<span class="hljs-variable">$@</span>&quot;</span>)</span>&quot;</span>)</span>&quot;</span>
  <span class="hljs-keyword">fi</span>
&#125;

<span class="hljs-function"><span class="hljs-title">execute_sudo</span></span>() &#123;
  <span class="hljs-built_in">local</span> -a args=(<span class="hljs-string">&quot;<span class="hljs-variable">$@</span>&quot;</span>)
  <span class="hljs-keyword">if</span> [[ -n <span class="hljs-string">&quot;<span class="hljs-variable">$&#123;SUDO_ASKPASS-&#125;</span>&quot;</span> ]]; <span class="hljs-keyword">then</span>
    args=(<span class="hljs-string">&quot;-A&quot;</span> <span class="hljs-string">&quot;<span class="hljs-variable">$&#123;args[@]&#125;</span>&quot;</span>)
  <span class="hljs-keyword">fi</span>
  <span class="hljs-keyword">if</span> have_sudo_access; <span class="hljs-keyword">then</span>
    ohai <span class="hljs-string">&quot;/usr/bin/sudo&quot;</span> <span class="hljs-string">&quot;<span class="hljs-variable">$&#123;args[@]&#125;</span>&quot;</span>
    execute <span class="hljs-string">&quot;/usr/bin/sudo&quot;</span> <span class="hljs-string">&quot;<span class="hljs-variable">$&#123;args[@]&#125;</span>&quot;</span>
  <span class="hljs-keyword">else</span>
    ohai <span class="hljs-string">&quot;<span class="hljs-variable">$&#123;args[@]&#125;</span>&quot;</span>
    execute <span class="hljs-string">&quot;<span class="hljs-variable">$&#123;args[@]&#125;</span>&quot;</span>
  <span class="hljs-keyword">fi</span>
&#125;

<span class="hljs-function"><span class="hljs-title">getc</span></span>() &#123;
  <span class="hljs-built_in">local</span> save_state
  save_state=$(/bin/stty -g)
  /bin/stty raw -<span class="hljs-built_in">echo</span>
  IFS= <span class="hljs-built_in">read</span> -r -n 1 -d <span class="hljs-string">&#x27;&#x27;</span> <span class="hljs-string">&quot;<span class="hljs-variable">$@</span>&quot;</span>
  /bin/stty <span class="hljs-string">&quot;<span class="hljs-variable">$save_state</span>&quot;</span>
&#125;

<span class="hljs-function"><span class="hljs-title">wait_for_user</span></span>() &#123;
  <span class="hljs-built_in">local</span> c
  <span class="hljs-built_in">echo</span>
  <span class="hljs-built_in">echo</span> <span class="hljs-string">&quot;Press RETURN to continue or any other key to abort&quot;</span>
  getc c
  <span class="hljs-comment"># we test for \r and \n because some stuff does \r instead</span>
  <span class="hljs-keyword">if</span> ! [[ <span class="hljs-string">&quot;<span class="hljs-variable">$c</span>&quot;</span> == $<span class="hljs-string">&#x27;\r&#x27;</span> || <span class="hljs-string">&quot;<span class="hljs-variable">$c</span>&quot;</span> == $<span class="hljs-string">&#x27;\n&#x27;</span> ]]; <span class="hljs-keyword">then</span>
    <span class="hljs-built_in">exit</span> 1
  <span class="hljs-keyword">fi</span>
&#125;

<span class="hljs-function"><span class="hljs-title">major_minor</span></span>() &#123;
  <span class="hljs-built_in">echo</span> <span class="hljs-string">&quot;<span class="hljs-variable">$&#123;1%%.*&#125;</span>.<span class="hljs-subst">$(x=<span class="hljs-string">&quot;<span class="hljs-variable">$&#123;1#*.&#125;</span>&quot;</span>; echo <span class="hljs-string">&quot;<span class="hljs-variable">$&#123;x%%.*&#125;</span>&quot;</span>)</span>&quot;</span>
&#125;

<span class="hljs-keyword">if</span> [[ -z <span class="hljs-string">&quot;<span class="hljs-variable">$&#123;HOMEBREW_ON_LINUX-&#125;</span>&quot;</span> ]]; <span class="hljs-keyword">then</span>
  macos_version=<span class="hljs-string">&quot;<span class="hljs-subst">$(major_minor <span class="hljs-string">&quot;<span class="hljs-subst">$(/usr/bin/sw_vers -productVersion)</span>&quot;</span>)</span>&quot;</span>
<span class="hljs-keyword">fi</span>

<span class="hljs-function"><span class="hljs-title">version_gt</span></span>() &#123;
  [[ <span class="hljs-string">&quot;<span class="hljs-variable">$&#123;1%.*&#125;</span>&quot;</span> -gt <span class="hljs-string">&quot;<span class="hljs-variable">$&#123;2%.*&#125;</span>&quot;</span> ]] || [[ <span class="hljs-string">&quot;<span class="hljs-variable">$&#123;1%.*&#125;</span>&quot;</span> -eq <span class="hljs-string">&quot;<span class="hljs-variable">$&#123;2%.*&#125;</span>&quot;</span> &amp;&amp; <span class="hljs-string">&quot;<span class="hljs-variable">$&#123;1#*.&#125;</span>&quot;</span> -gt <span class="hljs-string">&quot;<span class="hljs-variable">$&#123;2#*.&#125;</span>&quot;</span> ]]
&#125;
<span class="hljs-function"><span class="hljs-title">version_ge</span></span>() &#123;
  [[ <span class="hljs-string">&quot;<span class="hljs-variable">$&#123;1%.*&#125;</span>&quot;</span> -gt <span class="hljs-string">&quot;<span class="hljs-variable">$&#123;2%.*&#125;</span>&quot;</span> ]] || [[ <span class="hljs-string">&quot;<span class="hljs-variable">$&#123;1%.*&#125;</span>&quot;</span> -eq <span class="hljs-string">&quot;<span class="hljs-variable">$&#123;2%.*&#125;</span>&quot;</span> &amp;&amp; <span class="hljs-string">&quot;<span class="hljs-variable">$&#123;1#*.&#125;</span>&quot;</span> -ge <span class="hljs-string">&quot;<span class="hljs-variable">$&#123;2#*.&#125;</span>&quot;</span> ]]
&#125;
<span class="hljs-function"><span class="hljs-title">version_lt</span></span>() &#123;
  [[ <span class="hljs-string">&quot;<span class="hljs-variable">$&#123;1%.*&#125;</span>&quot;</span> -lt <span class="hljs-string">&quot;<span class="hljs-variable">$&#123;2%.*&#125;</span>&quot;</span> ]] || [[ <span class="hljs-string">&quot;<span class="hljs-variable">$&#123;1%.*&#125;</span>&quot;</span> -eq <span class="hljs-string">&quot;<span class="hljs-variable">$&#123;2%.*&#125;</span>&quot;</span> &amp;&amp; <span class="hljs-string">&quot;<span class="hljs-variable">$&#123;1#*.&#125;</span>&quot;</span> -lt <span class="hljs-string">&quot;<span class="hljs-variable">$&#123;2#*.&#125;</span>&quot;</span> ]]
&#125;

<span class="hljs-function"><span class="hljs-title">should_install_git</span></span>() &#123;
  <span class="hljs-keyword">if</span> [[ $(<span class="hljs-built_in">command</span> -v git) ]]; <span class="hljs-keyword">then</span>
    <span class="hljs-built_in">return</span> 1
  <span class="hljs-keyword">fi</span>
&#125;

<span class="hljs-function"><span class="hljs-title">should_install_command_line_tools</span></span>() &#123;
  <span class="hljs-keyword">if</span> [[ -n <span class="hljs-string">&quot;<span class="hljs-variable">$&#123;HOMEBREW_ON_LINUX-&#125;</span>&quot;</span> ]]; <span class="hljs-keyword">then</span>
    <span class="hljs-built_in">return</span> 1
  <span class="hljs-keyword">fi</span>

  <span class="hljs-keyword">if</span> [[ -n <span class="hljs-string">&quot;<span class="hljs-variable">$&#123;HOMEBREW_APPLE_SILICON-&#125;</span>&quot;</span> ]]; <span class="hljs-keyword">then</span>
    <span class="hljs-built_in">return</span> 1;
  <span class="hljs-keyword">fi</span>

  <span class="hljs-keyword">if</span> version_gt <span class="hljs-string">&quot;<span class="hljs-variable">$macos_version</span>&quot;</span> <span class="hljs-string">&quot;10.13&quot;</span>; <span class="hljs-keyword">then</span>
    ! [[ -e <span class="hljs-string">&quot;/Library/Developer/CommandLineTools/usr/bin/git&quot;</span> ]]
  <span class="hljs-keyword">else</span>
    ! [[ -e <span class="hljs-string">&quot;/Library/Developer/CommandLineTools/usr/bin/git&quot;</span> ]] ||
      ! [[ -e <span class="hljs-string">&quot;/usr/include/iconv.h&quot;</span> ]]
  <span class="hljs-keyword">fi</span>
&#125;

<span class="hljs-function"><span class="hljs-title">get_permission</span></span>() &#123;
  <span class="hljs-variable">$STAT</span> <span class="hljs-string">&quot;%A&quot;</span> <span class="hljs-string">&quot;<span class="hljs-variable">$1</span>&quot;</span>
&#125;

<span class="hljs-function"><span class="hljs-title">user_only_chmod</span></span>() &#123;
  [[ -d <span class="hljs-string">&quot;<span class="hljs-variable">$1</span>&quot;</span> ]] &amp;&amp; [[ <span class="hljs-string">&quot;<span class="hljs-subst">$(get_permission <span class="hljs-string">&quot;<span class="hljs-variable">$1</span>&quot;</span>)</span>&quot;</span> != <span class="hljs-string">&quot;755&quot;</span> ]]
&#125;

<span class="hljs-function"><span class="hljs-title">exists_but_not_writable</span></span>() &#123;
  [[ -e <span class="hljs-string">&quot;<span class="hljs-variable">$1</span>&quot;</span> ]] &amp;&amp; ! [[ -r <span class="hljs-string">&quot;<span class="hljs-variable">$1</span>&quot;</span> &amp;&amp; -w <span class="hljs-string">&quot;<span class="hljs-variable">$1</span>&quot;</span> &amp;&amp; -x <span class="hljs-string">&quot;<span class="hljs-variable">$1</span>&quot;</span> ]]
&#125;

<span class="hljs-function"><span class="hljs-title">get_owner</span></span>() &#123;
  <span class="hljs-variable">$STAT</span> <span class="hljs-string">&quot;%u&quot;</span> <span class="hljs-string">&quot;<span class="hljs-variable">$1</span>&quot;</span>
&#125;

<span class="hljs-function"><span class="hljs-title">file_not_owned</span></span>() &#123;
  [[ <span class="hljs-string">&quot;<span class="hljs-subst">$(get_owner <span class="hljs-string">&quot;<span class="hljs-variable">$1</span>&quot;</span>)</span>&quot;</span> != <span class="hljs-string">&quot;<span class="hljs-subst">$(id -u)</span>&quot;</span> ]]
&#125;

<span class="hljs-function"><span class="hljs-title">get_group</span></span>() &#123;
  <span class="hljs-variable">$STAT</span> <span class="hljs-string">&quot;%g&quot;</span> <span class="hljs-string">&quot;<span class="hljs-variable">$1</span>&quot;</span>
&#125;

<span class="hljs-function"><span class="hljs-title">file_not_grpowned</span></span>() &#123;
  [[ <span class="hljs-string">&quot; <span class="hljs-subst">$(id -G <span class="hljs-string">&quot;<span class="hljs-variable">$USER</span>&quot;</span>)</span> &quot;</span> != *<span class="hljs-string">&quot; <span class="hljs-subst">$(get_group <span class="hljs-string">&quot;<span class="hljs-variable">$1</span>&quot;</span>)</span> &quot;</span>*  ]]
&#125;

<span class="hljs-comment"># Please sync with &#x27;test_ruby()&#x27; in &#x27;Library/Homebrew/utils/ruby.sh&#x27; from Homebrew/brew repository.</span>
<span class="hljs-function"><span class="hljs-title">test_ruby</span></span> () &#123;
  <span class="hljs-keyword">if</span> [[ ! -x <span class="hljs-variable">$1</span> ]]
  <span class="hljs-keyword">then</span>
    <span class="hljs-built_in">return</span> 1
  <span class="hljs-keyword">fi</span>

  <span class="hljs-string">&quot;<span class="hljs-variable">$1</span>&quot;</span> --enable-frozen-string-literal --<span class="hljs-built_in">disable</span>=gems,did_you_mean,rubyopt -rrubygems -e \
    <span class="hljs-string">&quot;abort if Gem::Version.new(RUBY_VERSION.to_s.dup).to_s.split(&#x27;.&#x27;).first(2) != \</span>
<span class="hljs-string">              Gem::Version.new(&#x27;<span class="hljs-variable">$REQUIRED_RUBY_VERSION</span>&#x27;).to_s.split(&#x27;.&#x27;).first(2)&quot;</span> 2&gt;/dev/null
&#125;

<span class="hljs-function"><span class="hljs-title">no_usable_ruby</span></span>() &#123;
  <span class="hljs-built_in">local</span> ruby_exec
  IFS=$<span class="hljs-string">&#x27;\n&#x27;</span> <span class="hljs-comment"># Do word splitting on new lines only</span>
  <span class="hljs-keyword">for</span> ruby_exec <span class="hljs-keyword">in</span> $(<span class="hljs-built_in">which</span> -a ruby); <span class="hljs-keyword">do</span>
    <span class="hljs-keyword">if</span> test_ruby <span class="hljs-string">&quot;<span class="hljs-variable">$ruby_exec</span>&quot;</span>; <span class="hljs-keyword">then</span>
      <span class="hljs-built_in">return</span> 1
    <span class="hljs-keyword">fi</span>
  <span class="hljs-keyword">done</span>
  IFS=$<span class="hljs-string">&#x27; \t\n&#x27;</span> <span class="hljs-comment"># Restore IFS to its default value</span>
  <span class="hljs-built_in">return</span> 0
&#125;

<span class="hljs-function"><span class="hljs-title">outdated_glibc</span></span>() &#123;
  <span class="hljs-built_in">local</span> glibc_version
  glibc_version=$(ldd --version | head -n1 | grep -o <span class="hljs-string">&#x27;[0-9.]*$&#x27;</span> | grep -o <span class="hljs-string">&#x27;^[0-9]\+\.[0-9]\+&#x27;</span>)
  version_lt <span class="hljs-string">&quot;<span class="hljs-variable">$glibc_version</span>&quot;</span> <span class="hljs-string">&quot;<span class="hljs-variable">$REQUIRED_GLIBC_VERSION</span>&quot;</span>
&#125;

<span class="hljs-keyword">if</span> [[ -n <span class="hljs-string">&quot;<span class="hljs-variable">$&#123;HOMEBREW_ON_LINUX-&#125;</span>&quot;</span> ]] &amp;&amp; no_usable_ruby &amp;&amp; outdated_glibc
<span class="hljs-keyword">then</span>
    abort <span class="hljs-string">&quot;<span class="hljs-subst">$(cat &lt;&lt;-EOFABORT</span></span>
<span class="hljs-string"><span class="hljs-subst">    Homebrew requires Ruby $REQUIRED_RUBY_VERSION which was not found on your system.</span></span>
<span class="hljs-string"><span class="hljs-subst">    Homebrew portable Ruby requires Glibc version $REQUIRED_GLIBC_VERSION or newer,</span></span>
<span class="hljs-string"><span class="hljs-subst">    and your Glibc version is too old.</span></span>
<span class="hljs-string"><span class="hljs-subst">    See $&#123;tty_underline&#125;https://docs.brew.sh/Homebrew-on-Linux#requirements$&#123;tty_reset&#125;</span></span>
<span class="hljs-string"><span class="hljs-subst">    Install Ruby $REQUIRED_RUBY_VERSION and add its location to your PATH.</span></span>
<span class="hljs-string"><span class="hljs-subst">    EOFABORT</span></span>
<span class="hljs-string"><span class="hljs-subst">    )</span>&quot;</span>
<span class="hljs-keyword">fi</span>

<span class="hljs-comment"># USER isn&#x27;t always set so provide a fall back for the installer and subprocesses.</span>
<span class="hljs-keyword">if</span> [[ -z <span class="hljs-string">&quot;<span class="hljs-variable">$&#123;USER-&#125;</span>&quot;</span> ]]; <span class="hljs-keyword">then</span>
  USER=<span class="hljs-string">&quot;<span class="hljs-subst">$(chomp <span class="hljs-string">&quot;<span class="hljs-subst">$(id -un)</span>&quot;</span>)</span>&quot;</span>
  <span class="hljs-built_in">export</span> USER
<span class="hljs-keyword">fi</span>

<span class="hljs-comment"># Invalidate sudo timestamp before exiting (if it wasn&#x27;t active before).</span>
<span class="hljs-keyword">if</span> ! /usr/bin/sudo -n -v 2&gt;/dev/null; <span class="hljs-keyword">then</span>
  <span class="hljs-built_in">trap</span> <span class="hljs-string">&#x27;/usr/bin/sudo -k&#x27;</span> EXIT
<span class="hljs-keyword">fi</span>

<span class="hljs-comment"># Things can fail later if `pwd` doesn&#x27;t exist.</span>
<span class="hljs-comment"># Also sudo prints a warning message for no good reason</span>
<span class="hljs-built_in">cd</span> <span class="hljs-string">&quot;/usr&quot;</span> || <span class="hljs-built_in">exit</span> 1

<span class="hljs-comment">####################################################################### script</span>
<span class="hljs-keyword">if</span> should_install_git; <span class="hljs-keyword">then</span>
    abort <span class="hljs-string">&quot;<span class="hljs-subst">$(cat &lt;&lt;EOABORT</span></span>
<span class="hljs-string"><span class="hljs-subst">You must install Git before installing Homebrew. See:</span></span>
<span class="hljs-string"><span class="hljs-subst">  $&#123;tty_underline&#125;https://docs.brew.sh/Installation$&#123;tty_reset&#125;</span></span>
<span class="hljs-string"><span class="hljs-subst">EOABORT</span></span>
<span class="hljs-string"><span class="hljs-subst">)</span>&quot;</span>
<span class="hljs-keyword">fi</span>

<span class="hljs-keyword">if</span> [[ -z <span class="hljs-string">&quot;<span class="hljs-variable">$&#123;HOMEBREW_ON_LINUX-&#125;</span>&quot;</span> ]]; <span class="hljs-keyword">then</span>
 have_sudo_access
<span class="hljs-keyword">else</span>
  <span class="hljs-keyword">if</span> [[ -n <span class="hljs-string">&quot;<span class="hljs-variable">$&#123;CI-&#125;</span>&quot;</span> ]] || [[ -w <span class="hljs-string">&quot;<span class="hljs-variable">$HOMEBREW_PREFIX_DEFAULT</span>&quot;</span> ]] || [[ -w <span class="hljs-string">&quot;/home/linuxbrew&quot;</span> ]] || [[ -w <span class="hljs-string">&quot;/home&quot;</span> ]]; <span class="hljs-keyword">then</span>
    HOMEBREW_PREFIX=<span class="hljs-string">&quot;<span class="hljs-variable">$HOMEBREW_PREFIX_DEFAULT</span>&quot;</span>
  <span class="hljs-keyword">else</span>
    <span class="hljs-built_in">trap</span> <span class="hljs-built_in">exit</span> SIGINT
    <span class="hljs-keyword">if</span> [[ $(/usr/bin/sudo -n -l mkdir 2&gt;&amp;1) != *<span class="hljs-string">&quot;mkdir&quot;</span>* ]]; <span class="hljs-keyword">then</span>
      ohai <span class="hljs-string">&quot;Select the Homebrew installation directory&quot;</span>
      <span class="hljs-built_in">echo</span> <span class="hljs-string">&quot;- <span class="hljs-variable">$&#123;tty_bold&#125;</span>Enter your password<span class="hljs-variable">$&#123;tty_reset&#125;</span> to install to <span class="hljs-variable">$&#123;tty_underline&#125;</span><span class="hljs-variable">$&#123;HOMEBREW_PREFIX_DEFAULT&#125;</span><span class="hljs-variable">$&#123;tty_reset&#125;</span> (<span class="hljs-variable">$&#123;tty_bold&#125;</span>recommended<span class="hljs-variable">$&#123;tty_reset&#125;</span>)&quot;</span>
      <span class="hljs-built_in">echo</span> <span class="hljs-string">&quot;- <span class="hljs-variable">$&#123;tty_bold&#125;</span>Press Control-D<span class="hljs-variable">$&#123;tty_reset&#125;</span> to install to <span class="hljs-variable">$&#123;tty_underline&#125;</span><span class="hljs-variable">$HOME</span>/.linuxbrew<span class="hljs-variable">$&#123;tty_reset&#125;</span>&quot;</span>
      <span class="hljs-built_in">echo</span> <span class="hljs-string">&quot;- <span class="hljs-variable">$&#123;tty_bold&#125;</span>Press Control-C<span class="hljs-variable">$&#123;tty_reset&#125;</span> to cancel installation&quot;</span>
    <span class="hljs-keyword">fi</span>
    <span class="hljs-keyword">if</span> have_sudo_access; <span class="hljs-keyword">then</span>
      HOMEBREW_PREFIX=<span class="hljs-string">&quot;<span class="hljs-variable">$HOMEBREW_PREFIX_DEFAULT</span>&quot;</span>
    <span class="hljs-keyword">else</span>
      HOMEBREW_PREFIX=<span class="hljs-string">&quot;<span class="hljs-variable">$HOME</span>/.linuxbrew&quot;</span>
    <span class="hljs-keyword">fi</span>
    <span class="hljs-built_in">trap</span> - SIGINT
  <span class="hljs-keyword">fi</span>
  HOMEBREW_REPOSITORY=<span class="hljs-string">&quot;<span class="hljs-variable">$&#123;HOMEBREW_PREFIX&#125;</span>/Homebrew&quot;</span>
<span class="hljs-keyword">fi</span>

<span class="hljs-keyword">if</span> [[ <span class="hljs-string">&quot;<span class="hljs-variable">$UID</span>&quot;</span> == <span class="hljs-string">&quot;0&quot;</span> ]]; <span class="hljs-keyword">then</span>
  abort <span class="hljs-string">&quot;Don&#x27;t run this as root!&quot;</span>
<span class="hljs-keyword">elif</span> [[ -d <span class="hljs-string">&quot;<span class="hljs-variable">$HOMEBREW_PREFIX</span>&quot;</span> &amp;&amp; ! -x <span class="hljs-string">&quot;<span class="hljs-variable">$HOMEBREW_PREFIX</span>&quot;</span> ]]; <span class="hljs-keyword">then</span>
  abort <span class="hljs-string">&quot;<span class="hljs-subst">$(cat &lt;&lt;EOABORT</span></span>
<span class="hljs-string"><span class="hljs-subst">The Homebrew prefix, $&#123;HOMEBREW_PREFIX&#125;, exists but is not searchable. If this is</span></span>
<span class="hljs-string"><span class="hljs-subst">not intentional, please restore the default permissions and try running the</span></span>
<span class="hljs-string"><span class="hljs-subst">installer again:</span></span>
<span class="hljs-string"><span class="hljs-subst">    sudo chmod 775 $&#123;HOMEBREW_PREFIX&#125;</span></span>
<span class="hljs-string"><span class="hljs-subst">EOABORT</span></span>
<span class="hljs-string"><span class="hljs-subst">)</span>&quot;</span>
<span class="hljs-keyword">fi</span>

<span class="hljs-keyword">if</span> [[ -z <span class="hljs-string">&quot;<span class="hljs-variable">$&#123;HOMEBREW_ON_LINUX-&#125;</span>&quot;</span> ]]; <span class="hljs-keyword">then</span>
  <span class="hljs-keyword">if</span> version_lt <span class="hljs-string">&quot;<span class="hljs-variable">$macos_version</span>&quot;</span> <span class="hljs-string">&quot;10.7&quot;</span>; <span class="hljs-keyword">then</span>
    abort <span class="hljs-string">&quot;<span class="hljs-subst">$(cat &lt;&lt;EOABORT</span></span>
<span class="hljs-string"><span class="hljs-subst">Your Mac OS X version is too old. See:</span></span>
<span class="hljs-string"><span class="hljs-subst">  $&#123;tty_underline&#125;https://github.com/mistydemeo/tigerbrew$&#123;tty_reset&#125;</span></span>
<span class="hljs-string"><span class="hljs-subst">EOABORT</span></span>
<span class="hljs-string"><span class="hljs-subst">)</span>&quot;</span>
  <span class="hljs-keyword">elif</span> version_lt <span class="hljs-string">&quot;<span class="hljs-variable">$macos_version</span>&quot;</span> <span class="hljs-string">&quot;10.9&quot;</span>; <span class="hljs-keyword">then</span>
    abort <span class="hljs-string">&quot;Your OS X version is too old&quot;</span>
  <span class="hljs-keyword">elif</span> version_gt <span class="hljs-string">&quot;<span class="hljs-variable">$macos_version</span>&quot;</span> <span class="hljs-string">&quot;<span class="hljs-variable">$MACOS_LATEST_SUPPORTED</span>&quot;</span> || \
    version_lt <span class="hljs-string">&quot;<span class="hljs-variable">$macos_version</span>&quot;</span> <span class="hljs-string">&quot;<span class="hljs-variable">$MACOS_OLDEST_SUPPORTED</span>&quot;</span>; <span class="hljs-keyword">then</span>
    who=<span class="hljs-string">&quot;We&quot;</span>
    what=<span class="hljs-string">&quot;&quot;</span>
    <span class="hljs-keyword">if</span> version_gt <span class="hljs-string">&quot;<span class="hljs-variable">$macos_version</span>&quot;</span> <span class="hljs-string">&quot;<span class="hljs-variable">$MACOS_LATEST_SUPPORTED</span>&quot;</span>; <span class="hljs-keyword">then</span>
      what=<span class="hljs-string">&quot;pre-release version&quot;</span>
    <span class="hljs-keyword">else</span>
      who+=<span class="hljs-string">&quot; (and Apple)&quot;</span>
      what=<span class="hljs-string">&quot;old version&quot;</span>
    <span class="hljs-keyword">fi</span>
    ohai <span class="hljs-string">&quot;You are using macOS <span class="hljs-variable">$&#123;macos_version&#125;</span>.&quot;</span>
    ohai <span class="hljs-string">&quot;<span class="hljs-variable">$&#123;who&#125;</span> do not provide support for this <span class="hljs-variable">$&#123;what&#125;</span>.&quot;</span>

    <span class="hljs-built_in">echo</span> <span class="hljs-string">&quot;<span class="hljs-subst">$(cat &lt;&lt;EOS</span></span>
<span class="hljs-string"><span class="hljs-subst">This installation may not succeed.</span></span>
<span class="hljs-string"><span class="hljs-subst">After installation, you will encounter build failures with some formulae.</span></span>
<span class="hljs-string"><span class="hljs-subst">Please create pull requests instead of asking for help on Homebrew\&#x27;s GitHub,</span></span>
<span class="hljs-string"><span class="hljs-subst">Discourse, Twitter or IRC. You are responsible for resolving any issues you</span></span>
<span class="hljs-string"><span class="hljs-subst">experience while you are running this $&#123;what&#125;.</span></span>
<span class="hljs-string"><span class="hljs-subst">EOS</span></span>
<span class="hljs-string"><span class="hljs-subst">)</span></span>
<span class="hljs-string">&quot;</span>
  <span class="hljs-keyword">fi</span>
<span class="hljs-keyword">fi</span>

ohai <span class="hljs-string">&quot;This script will install:&quot;</span>
<span class="hljs-built_in">echo</span> <span class="hljs-string">&quot;<span class="hljs-variable">$&#123;HOMEBREW_PREFIX&#125;</span>/bin/brew&quot;</span>
<span class="hljs-built_in">echo</span> <span class="hljs-string">&quot;<span class="hljs-variable">$&#123;HOMEBREW_PREFIX&#125;</span>/share/doc/homebrew&quot;</span>
<span class="hljs-built_in">echo</span> <span class="hljs-string">&quot;<span class="hljs-variable">$&#123;HOMEBREW_PREFIX&#125;</span>/share/man/man1/brew.1&quot;</span>
<span class="hljs-built_in">echo</span> <span class="hljs-string">&quot;<span class="hljs-variable">$&#123;HOMEBREW_PREFIX&#125;</span>/share/zsh/site-functions/_brew&quot;</span>
<span class="hljs-built_in">echo</span> <span class="hljs-string">&quot;<span class="hljs-variable">$&#123;HOMEBREW_PREFIX&#125;</span>/etc/bash_completion.d/brew&quot;</span>
<span class="hljs-built_in">echo</span> <span class="hljs-string">&quot;<span class="hljs-variable">$&#123;HOMEBREW_REPOSITORY&#125;</span>&quot;</span>

<span class="hljs-comment"># Keep relatively in sync with</span>
<span class="hljs-comment"># https://github.com/Homebrew/brew/blob/master/Library/Homebrew/keg.rb</span>
directories=(bin etc include lib sbin share opt var
             Frameworks
             etc/bash_completion.d lib/pkgconfig
             share/aclocal share/doc share/info share/locale share/man
             share/man/man1 share/man/man2 share/man/man3 share/man/man4
             share/man/man5 share/man/man6 share/man/man7 share/man/man8
             var/<span class="hljs-built_in">log</span> var/homebrew var/homebrew/linked
             bin/brew)
group_chmods=()
<span class="hljs-keyword">for</span> dir <span class="hljs-keyword">in</span> <span class="hljs-string">&quot;<span class="hljs-variable">$&#123;directories[@]&#125;</span>&quot;</span>; <span class="hljs-keyword">do</span>
  <span class="hljs-keyword">if</span> exists_but_not_writable <span class="hljs-string">&quot;<span class="hljs-variable">$&#123;HOMEBREW_PREFIX&#125;</span>/<span class="hljs-variable">$&#123;dir&#125;</span>&quot;</span>; <span class="hljs-keyword">then</span>
    group_chmods+=(<span class="hljs-string">&quot;<span class="hljs-variable">$&#123;HOMEBREW_PREFIX&#125;</span>/<span class="hljs-variable">$&#123;dir&#125;</span>&quot;</span>)
  <span class="hljs-keyword">fi</span>
<span class="hljs-keyword">done</span>

<span class="hljs-comment"># zsh refuses to read from these directories if group writable</span>
directories=(share/zsh share/zsh/site-functions)
zsh_dirs=()
<span class="hljs-keyword">for</span> dir <span class="hljs-keyword">in</span> <span class="hljs-string">&quot;<span class="hljs-variable">$&#123;directories[@]&#125;</span>&quot;</span>; <span class="hljs-keyword">do</span>
  zsh_dirs+=(<span class="hljs-string">&quot;<span class="hljs-variable">$&#123;HOMEBREW_PREFIX&#125;</span>/<span class="hljs-variable">$&#123;dir&#125;</span>&quot;</span>)
<span class="hljs-keyword">done</span>

directories=(bin etc include lib sbin share var opt
             share/zsh share/zsh/site-functions
             var/homebrew var/homebrew/linked
             Cellar Caskroom Homebrew Frameworks)
mkdirs=()
<span class="hljs-keyword">for</span> dir <span class="hljs-keyword">in</span> <span class="hljs-string">&quot;<span class="hljs-variable">$&#123;directories[@]&#125;</span>&quot;</span>; <span class="hljs-keyword">do</span>
  <span class="hljs-keyword">if</span> ! [[ -d <span class="hljs-string">&quot;<span class="hljs-variable">$&#123;HOMEBREW_PREFIX&#125;</span>/<span class="hljs-variable">$&#123;dir&#125;</span>&quot;</span> ]]; <span class="hljs-keyword">then</span>
    mkdirs+=(<span class="hljs-string">&quot;<span class="hljs-variable">$&#123;HOMEBREW_PREFIX&#125;</span>/<span class="hljs-variable">$&#123;dir&#125;</span>&quot;</span>)
  <span class="hljs-keyword">fi</span>
<span class="hljs-keyword">done</span>

user_chmods=()
<span class="hljs-keyword">if</span> [[ <span class="hljs-string">&quot;<span class="hljs-variable">$&#123;#zsh_dirs[@]&#125;</span>&quot;</span> -gt 0 ]]; <span class="hljs-keyword">then</span>
  <span class="hljs-keyword">for</span> dir <span class="hljs-keyword">in</span> <span class="hljs-string">&quot;<span class="hljs-variable">$&#123;zsh_dirs[@]&#125;</span>&quot;</span>; <span class="hljs-keyword">do</span>
    <span class="hljs-keyword">if</span> user_only_chmod <span class="hljs-string">&quot;<span class="hljs-variable">$&#123;dir&#125;</span>&quot;</span>; <span class="hljs-keyword">then</span>
      user_chmods+=(<span class="hljs-string">&quot;<span class="hljs-variable">$&#123;dir&#125;</span>&quot;</span>)
    <span class="hljs-keyword">fi</span>
  <span class="hljs-keyword">done</span>
<span class="hljs-keyword">fi</span>

chmods=()
<span class="hljs-keyword">if</span> [[ <span class="hljs-string">&quot;<span class="hljs-variable">$&#123;#group_chmods[@]&#125;</span>&quot;</span> -gt 0 ]]; <span class="hljs-keyword">then</span>
  chmods+=(<span class="hljs-string">&quot;<span class="hljs-variable">$&#123;group_chmods[@]&#125;</span>&quot;</span>)
<span class="hljs-keyword">fi</span>
<span class="hljs-keyword">if</span> [[ <span class="hljs-string">&quot;<span class="hljs-variable">$&#123;#user_chmods[@]&#125;</span>&quot;</span> -gt 0 ]]; <span class="hljs-keyword">then</span>
  chmods+=(<span class="hljs-string">&quot;<span class="hljs-variable">$&#123;user_chmods[@]&#125;</span>&quot;</span>)
<span class="hljs-keyword">fi</span>

chowns=()
chgrps=()
<span class="hljs-keyword">if</span> [[ <span class="hljs-string">&quot;<span class="hljs-variable">$&#123;#chmods[@]&#125;</span>&quot;</span> -gt 0 ]]; <span class="hljs-keyword">then</span>
  <span class="hljs-keyword">for</span> dir <span class="hljs-keyword">in</span> <span class="hljs-string">&quot;<span class="hljs-variable">$&#123;chmods[@]&#125;</span>&quot;</span>; <span class="hljs-keyword">do</span>
    <span class="hljs-keyword">if</span> file_not_owned <span class="hljs-string">&quot;<span class="hljs-variable">$&#123;dir&#125;</span>&quot;</span>; <span class="hljs-keyword">then</span>
      chowns+=(<span class="hljs-string">&quot;<span class="hljs-variable">$&#123;dir&#125;</span>&quot;</span>)
    <span class="hljs-keyword">fi</span>
    <span class="hljs-keyword">if</span> file_not_grpowned <span class="hljs-string">&quot;<span class="hljs-variable">$&#123;dir&#125;</span>&quot;</span>; <span class="hljs-keyword">then</span>
      chgrps+=(<span class="hljs-string">&quot;<span class="hljs-variable">$&#123;dir&#125;</span>&quot;</span>)
    <span class="hljs-keyword">fi</span>
  <span class="hljs-keyword">done</span>
<span class="hljs-keyword">fi</span>

<span class="hljs-keyword">if</span> [[ <span class="hljs-string">&quot;<span class="hljs-variable">$&#123;#group_chmods[@]&#125;</span>&quot;</span> -gt 0 ]]; <span class="hljs-keyword">then</span>
  ohai <span class="hljs-string">&quot;The following existing directories will be made group writable:&quot;</span>
  <span class="hljs-built_in">printf</span> <span class="hljs-string">&quot;%s\n&quot;</span> <span class="hljs-string">&quot;<span class="hljs-variable">$&#123;group_chmods[@]&#125;</span>&quot;</span>
<span class="hljs-keyword">fi</span>
<span class="hljs-keyword">if</span> [[ <span class="hljs-string">&quot;<span class="hljs-variable">$&#123;#user_chmods[@]&#125;</span>&quot;</span> -gt 0 ]]; <span class="hljs-keyword">then</span>
  ohai <span class="hljs-string">&quot;The following existing directories will be made writable by user only:&quot;</span>
  <span class="hljs-built_in">printf</span> <span class="hljs-string">&quot;%s\n&quot;</span> <span class="hljs-string">&quot;<span class="hljs-variable">$&#123;user_chmods[@]&#125;</span>&quot;</span>
<span class="hljs-keyword">fi</span>
<span class="hljs-keyword">if</span> [[ <span class="hljs-string">&quot;<span class="hljs-variable">$&#123;#chowns[@]&#125;</span>&quot;</span> -gt 0 ]]; <span class="hljs-keyword">then</span>
  ohai <span class="hljs-string">&quot;The following existing directories will have their owner set to <span class="hljs-variable">$&#123;tty_underline&#125;</span><span class="hljs-variable">$&#123;USER&#125;</span><span class="hljs-variable">$&#123;tty_reset&#125;</span>:&quot;</span>
  <span class="hljs-built_in">printf</span> <span class="hljs-string">&quot;%s\n&quot;</span> <span class="hljs-string">&quot;<span class="hljs-variable">$&#123;chowns[@]&#125;</span>&quot;</span>
<span class="hljs-keyword">fi</span>
<span class="hljs-keyword">if</span> [[ <span class="hljs-string">&quot;<span class="hljs-variable">$&#123;#chgrps[@]&#125;</span>&quot;</span> -gt 0 ]]; <span class="hljs-keyword">then</span>
  ohai <span class="hljs-string">&quot;The following existing directories will have their group set to <span class="hljs-variable">$&#123;tty_underline&#125;</span><span class="hljs-variable">$&#123;GROUP&#125;</span><span class="hljs-variable">$&#123;tty_reset&#125;</span>:&quot;</span>
  <span class="hljs-built_in">printf</span> <span class="hljs-string">&quot;%s\n&quot;</span> <span class="hljs-string">&quot;<span class="hljs-variable">$&#123;chgrps[@]&#125;</span>&quot;</span>
<span class="hljs-keyword">fi</span>
<span class="hljs-keyword">if</span> [[ <span class="hljs-string">&quot;<span class="hljs-variable">$&#123;#mkdirs[@]&#125;</span>&quot;</span> -gt 0 ]]; <span class="hljs-keyword">then</span>
  ohai <span class="hljs-string">&quot;The following new directories will be created:&quot;</span>
  <span class="hljs-built_in">printf</span> <span class="hljs-string">&quot;%s\n&quot;</span> <span class="hljs-string">&quot;<span class="hljs-variable">$&#123;mkdirs[@]&#125;</span>&quot;</span>
<span class="hljs-keyword">fi</span>

<span class="hljs-keyword">if</span> should_install_command_line_tools; <span class="hljs-keyword">then</span>
  ohai <span class="hljs-string">&quot;The Xcode Command Line Tools will be installed.&quot;</span>
<span class="hljs-keyword">fi</span>

<span class="hljs-keyword">if</span> [[ -t 0 &amp;&amp; -z <span class="hljs-string">&quot;<span class="hljs-variable">$&#123;CI-&#125;</span>&quot;</span> ]]; <span class="hljs-keyword">then</span>
  wait_for_user
<span class="hljs-keyword">fi</span>

<span class="hljs-keyword">if</span> [[ -d <span class="hljs-string">&quot;<span class="hljs-variable">$&#123;HOMEBREW_PREFIX&#125;</span>&quot;</span> ]]; <span class="hljs-keyword">then</span>
  <span class="hljs-keyword">if</span> [[ <span class="hljs-string">&quot;<span class="hljs-variable">$&#123;#chmods[@]&#125;</span>&quot;</span> -gt 0 ]]; <span class="hljs-keyword">then</span>
    execute_sudo <span class="hljs-string">&quot;/bin/chmod&quot;</span> <span class="hljs-string">&quot;u+rwx&quot;</span> <span class="hljs-string">&quot;<span class="hljs-variable">$&#123;chmods[@]&#125;</span>&quot;</span>
  <span class="hljs-keyword">fi</span>
  <span class="hljs-keyword">if</span> [[ <span class="hljs-string">&quot;<span class="hljs-variable">$&#123;#group_chmods[@]&#125;</span>&quot;</span> -gt 0 ]]; <span class="hljs-keyword">then</span>
    execute_sudo <span class="hljs-string">&quot;/bin/chmod&quot;</span> <span class="hljs-string">&quot;g+rwx&quot;</span> <span class="hljs-string">&quot;<span class="hljs-variable">$&#123;group_chmods[@]&#125;</span>&quot;</span>
  <span class="hljs-keyword">fi</span>
  <span class="hljs-keyword">if</span> [[ <span class="hljs-string">&quot;<span class="hljs-variable">$&#123;#user_chmods[@]&#125;</span>&quot;</span> -gt 0 ]]; <span class="hljs-keyword">then</span>
    execute_sudo <span class="hljs-string">&quot;/bin/chmod&quot;</span> <span class="hljs-string">&quot;755&quot;</span> <span class="hljs-string">&quot;<span class="hljs-variable">$&#123;user_chmods[@]&#125;</span>&quot;</span>
  <span class="hljs-keyword">fi</span>
  <span class="hljs-keyword">if</span> [[ <span class="hljs-string">&quot;<span class="hljs-variable">$&#123;#chowns[@]&#125;</span>&quot;</span> -gt 0 ]]; <span class="hljs-keyword">then</span>
    execute_sudo <span class="hljs-string">&quot;<span class="hljs-variable">$CHOWN</span>&quot;</span> <span class="hljs-string">&quot;<span class="hljs-variable">$USER</span>&quot;</span> <span class="hljs-string">&quot;<span class="hljs-variable">$&#123;chowns[@]&#125;</span>&quot;</span>
  <span class="hljs-keyword">fi</span>
  <span class="hljs-keyword">if</span> [[ <span class="hljs-string">&quot;<span class="hljs-variable">$&#123;#chgrps[@]&#125;</span>&quot;</span> -gt 0 ]]; <span class="hljs-keyword">then</span>
    execute_sudo <span class="hljs-string">&quot;<span class="hljs-variable">$CHGRP</span>&quot;</span> <span class="hljs-string">&quot;<span class="hljs-variable">$GROUP</span>&quot;</span> <span class="hljs-string">&quot;<span class="hljs-variable">$&#123;chgrps[@]&#125;</span>&quot;</span>
  <span class="hljs-keyword">fi</span>
<span class="hljs-keyword">else</span>
  execute_sudo <span class="hljs-string">&quot;/bin/mkdir&quot;</span> <span class="hljs-string">&quot;-p&quot;</span> <span class="hljs-string">&quot;<span class="hljs-variable">$&#123;HOMEBREW_PREFIX&#125;</span>&quot;</span>
  <span class="hljs-keyword">if</span> [[ -z <span class="hljs-string">&quot;<span class="hljs-variable">$&#123;HOMEBREW_ON_LINUX-&#125;</span>&quot;</span> ]]; <span class="hljs-keyword">then</span>
    execute_sudo <span class="hljs-string">&quot;<span class="hljs-variable">$CHOWN</span>&quot;</span> <span class="hljs-string">&quot;root:wheel&quot;</span> <span class="hljs-string">&quot;<span class="hljs-variable">$&#123;HOMEBREW_PREFIX&#125;</span>&quot;</span>
  <span class="hljs-keyword">else</span>
    execute_sudo <span class="hljs-string">&quot;<span class="hljs-variable">$CHOWN</span>&quot;</span> <span class="hljs-string">&quot;<span class="hljs-variable">$USER</span>:<span class="hljs-variable">$GROUP</span>&quot;</span> <span class="hljs-string">&quot;<span class="hljs-variable">$&#123;HOMEBREW_PREFIX&#125;</span>&quot;</span>
  <span class="hljs-keyword">fi</span>
<span class="hljs-keyword">fi</span>

<span class="hljs-keyword">if</span> [[ <span class="hljs-string">&quot;<span class="hljs-variable">$&#123;#mkdirs[@]&#125;</span>&quot;</span> -gt 0 ]]; <span class="hljs-keyword">then</span>
  execute_sudo <span class="hljs-string">&quot;/bin/mkdir&quot;</span> <span class="hljs-string">&quot;-p&quot;</span> <span class="hljs-string">&quot;<span class="hljs-variable">$&#123;mkdirs[@]&#125;</span>&quot;</span>
  execute_sudo <span class="hljs-string">&quot;/bin/chmod&quot;</span> <span class="hljs-string">&quot;g+rwx&quot;</span> <span class="hljs-string">&quot;<span class="hljs-variable">$&#123;mkdirs[@]&#125;</span>&quot;</span>
  execute_sudo <span class="hljs-string">&quot;<span class="hljs-variable">$CHOWN</span>&quot;</span> <span class="hljs-string">&quot;<span class="hljs-variable">$USER</span>&quot;</span> <span class="hljs-string">&quot;<span class="hljs-variable">$&#123;mkdirs[@]&#125;</span>&quot;</span>
  execute_sudo <span class="hljs-string">&quot;<span class="hljs-variable">$CHGRP</span>&quot;</span> <span class="hljs-string">&quot;<span class="hljs-variable">$GROUP</span>&quot;</span> <span class="hljs-string">&quot;<span class="hljs-variable">$&#123;mkdirs[@]&#125;</span>&quot;</span>
<span class="hljs-keyword">fi</span>

<span class="hljs-keyword">if</span> ! [[ -d <span class="hljs-string">&quot;<span class="hljs-variable">$&#123;HOMEBREW_CACHE&#125;</span>&quot;</span> ]]; <span class="hljs-keyword">then</span>
  <span class="hljs-keyword">if</span> [[ -z <span class="hljs-string">&quot;<span class="hljs-variable">$&#123;HOMEBREW_ON_LINUX-&#125;</span>&quot;</span> ]]; <span class="hljs-keyword">then</span>
    execute_sudo <span class="hljs-string">&quot;/bin/mkdir&quot;</span> <span class="hljs-string">&quot;-p&quot;</span> <span class="hljs-string">&quot;<span class="hljs-variable">$&#123;HOMEBREW_CACHE&#125;</span>&quot;</span>
  <span class="hljs-keyword">else</span>
    execute <span class="hljs-string">&quot;/bin/mkdir&quot;</span> <span class="hljs-string">&quot;-p&quot;</span> <span class="hljs-string">&quot;<span class="hljs-variable">$&#123;HOMEBREW_CACHE&#125;</span>&quot;</span>
  <span class="hljs-keyword">fi</span>
<span class="hljs-keyword">fi</span>
<span class="hljs-keyword">if</span> exists_but_not_writable <span class="hljs-string">&quot;<span class="hljs-variable">$&#123;HOMEBREW_CACHE&#125;</span>&quot;</span>; <span class="hljs-keyword">then</span>
  execute_sudo <span class="hljs-string">&quot;/bin/chmod&quot;</span> <span class="hljs-string">&quot;g+rwx&quot;</span> <span class="hljs-string">&quot;<span class="hljs-variable">$&#123;HOMEBREW_CACHE&#125;</span>&quot;</span>
<span class="hljs-keyword">fi</span>
<span class="hljs-keyword">if</span> file_not_owned <span class="hljs-string">&quot;<span class="hljs-variable">$&#123;HOMEBREW_CACHE&#125;</span>&quot;</span>; <span class="hljs-keyword">then</span>
  execute_sudo <span class="hljs-string">&quot;<span class="hljs-variable">$CHOWN</span>&quot;</span> <span class="hljs-string">&quot;<span class="hljs-variable">$USER</span>&quot;</span> <span class="hljs-string">&quot;<span class="hljs-variable">$&#123;HOMEBREW_CACHE&#125;</span>&quot;</span>
<span class="hljs-keyword">fi</span>
<span class="hljs-keyword">if</span> file_not_grpowned <span class="hljs-string">&quot;<span class="hljs-variable">$&#123;HOMEBREW_CACHE&#125;</span>&quot;</span>; <span class="hljs-keyword">then</span>
  execute_sudo <span class="hljs-string">&quot;<span class="hljs-variable">$CHGRP</span>&quot;</span> <span class="hljs-string">&quot;<span class="hljs-variable">$GROUP</span>&quot;</span> <span class="hljs-string">&quot;<span class="hljs-variable">$&#123;HOMEBREW_CACHE&#125;</span>&quot;</span>
<span class="hljs-keyword">fi</span>
<span class="hljs-keyword">if</span> [[ -d <span class="hljs-string">&quot;<span class="hljs-variable">$&#123;HOMEBREW_CACHE&#125;</span>&quot;</span> ]]; <span class="hljs-keyword">then</span>
  execute <span class="hljs-string">&quot;<span class="hljs-variable">$TOUCH</span>&quot;</span> <span class="hljs-string">&quot;<span class="hljs-variable">$&#123;HOMEBREW_CACHE&#125;</span>/.cleaned&quot;</span>
<span class="hljs-keyword">fi</span>

<span class="hljs-keyword">if</span> should_install_command_line_tools &amp;&amp; version_ge <span class="hljs-string">&quot;<span class="hljs-variable">$macos_version</span>&quot;</span> <span class="hljs-string">&quot;10.13&quot;</span>; <span class="hljs-keyword">then</span>
  ohai <span class="hljs-string">&quot;Searching online for the Command Line Tools&quot;</span>
  <span class="hljs-comment"># This temporary file prompts the &#x27;softwareupdate&#x27; utility to list the Command Line Tools</span>
  clt_placeholder=<span class="hljs-string">&quot;/tmp/.com.apple.dt.CommandLineTools.installondemand.in-progress&quot;</span>
  execute_sudo <span class="hljs-string">&quot;<span class="hljs-variable">$TOUCH</span>&quot;</span> <span class="hljs-string">&quot;<span class="hljs-variable">$clt_placeholder</span>&quot;</span>

  clt_label_command=<span class="hljs-string">&quot;/usr/sbin/softwareupdate -l |</span>
<span class="hljs-string">                      grep -B 1 -E &#x27;Command Line Tools&#x27; |</span>
<span class="hljs-string">                      awk -F&#x27;*&#x27; &#x27;/^ *\\*/ &#123;print \$2&#125;&#x27; |</span>
<span class="hljs-string">                      sed -e &#x27;s/^ *Label: //&#x27; -e &#x27;s/^ *//&#x27; |</span>
<span class="hljs-string">                      sort -V |</span>
<span class="hljs-string">                      tail -n1&quot;</span>
  clt_label=<span class="hljs-string">&quot;<span class="hljs-subst">$(chomp <span class="hljs-string">&quot;<span class="hljs-subst">$(/bin/bash -c <span class="hljs-string">&quot;<span class="hljs-variable">$clt_label_command</span>&quot;</span>)</span>&quot;</span>)</span>&quot;</span>

  <span class="hljs-keyword">if</span> [[ -n <span class="hljs-string">&quot;<span class="hljs-variable">$clt_label</span>&quot;</span> ]]; <span class="hljs-keyword">then</span>
    ohai <span class="hljs-string">&quot;Installing <span class="hljs-variable">$clt_label</span>&quot;</span>
    execute_sudo <span class="hljs-string">&quot;/usr/sbin/softwareupdate&quot;</span> <span class="hljs-string">&quot;-i&quot;</span> <span class="hljs-string">&quot;<span class="hljs-variable">$clt_label</span>&quot;</span>
    execute_sudo <span class="hljs-string">&quot;/bin/rm&quot;</span> <span class="hljs-string">&quot;-f&quot;</span> <span class="hljs-string">&quot;<span class="hljs-variable">$clt_placeholder</span>&quot;</span>
    execute_sudo <span class="hljs-string">&quot;/usr/bin/xcode-select&quot;</span> <span class="hljs-string">&quot;--switch&quot;</span> <span class="hljs-string">&quot;/Library/Developer/CommandLineTools&quot;</span>
  <span class="hljs-keyword">fi</span>
<span class="hljs-keyword">fi</span>

<span class="hljs-comment"># Headless install may have failed, so fallback to original &#x27;xcode-select&#x27; method</span>
<span class="hljs-keyword">if</span> should_install_command_line_tools &amp;&amp; <span class="hljs-built_in">test</span> -t 0; <span class="hljs-keyword">then</span>
  ohai <span class="hljs-string">&quot;Installing the Command Line Tools (expect a GUI popup):&quot;</span>
  execute_sudo <span class="hljs-string">&quot;/usr/bin/xcode-select&quot;</span> <span class="hljs-string">&quot;--install&quot;</span>
  <span class="hljs-built_in">echo</span> <span class="hljs-string">&quot;Press any key when the installation has completed.&quot;</span>
  getc
  execute_sudo <span class="hljs-string">&quot;/usr/bin/xcode-select&quot;</span> <span class="hljs-string">&quot;--switch&quot;</span> <span class="hljs-string">&quot;/Library/Developer/CommandLineTools&quot;</span>
<span class="hljs-keyword">fi</span>

<span class="hljs-keyword">if</span> [[ -z <span class="hljs-string">&quot;<span class="hljs-variable">$&#123;HOMEBREW_ON_LINUX-&#125;</span>&quot;</span> ]] &amp;&amp; ! output=<span class="hljs-string">&quot;<span class="hljs-subst">$(/usr/bin/xcrun clang 2&gt;&amp;1)</span>&quot;</span> &amp;&amp; [[ <span class="hljs-string">&quot;<span class="hljs-variable">$output</span>&quot;</span> == *<span class="hljs-string">&quot;license&quot;</span>* ]]; <span class="hljs-keyword">then</span>
  abort <span class="hljs-string">&quot;<span class="hljs-subst">$(cat &lt;&lt;EOABORT</span></span>
<span class="hljs-string"><span class="hljs-subst">You have not agreed to the Xcode license.</span></span>
<span class="hljs-string"><span class="hljs-subst">Before running the installer again please agree to the license by opening</span></span>
<span class="hljs-string"><span class="hljs-subst">Xcode.app or running:</span></span>
<span class="hljs-string"><span class="hljs-subst">    sudo xcodebuild -license</span></span>
<span class="hljs-string"><span class="hljs-subst">EOABORT</span></span>
<span class="hljs-string"><span class="hljs-subst">)</span>&quot;</span>
<span class="hljs-keyword">fi</span>

ohai <span class="hljs-string">&quot;Downloading and installing Homebrew...&quot;</span>
(
  <span class="hljs-built_in">cd</span> <span class="hljs-string">&quot;<span class="hljs-variable">$&#123;HOMEBREW_REPOSITORY&#125;</span>&quot;</span> &gt;/dev/null || <span class="hljs-built_in">return</span>

  <span class="hljs-comment"># we do it in four steps to avoid merge errors when reinstalling</span>
  execute <span class="hljs-string">&quot;git&quot;</span> <span class="hljs-string">&quot;init&quot;</span> <span class="hljs-string">&quot;-q&quot;</span>

  <span class="hljs-comment"># &quot;git remote add&quot; will fail if the remote is defined in the global config</span>
  execute <span class="hljs-string">&quot;git&quot;</span> <span class="hljs-string">&quot;config&quot;</span> <span class="hljs-string">&quot;remote.origin.url&quot;</span> <span class="hljs-string">&quot;<span class="hljs-variable">$&#123;BREW_REPO&#125;</span>&quot;</span>
  execute <span class="hljs-string">&quot;git&quot;</span> <span class="hljs-string">&quot;config&quot;</span> <span class="hljs-string">&quot;remote.origin.fetch&quot;</span> <span class="hljs-string">&quot;+refs/heads/*:refs/remotes/origin/*&quot;</span>

  <span class="hljs-comment"># ensure we don&#x27;t munge line endings on checkout</span>
  execute <span class="hljs-string">&quot;git&quot;</span> <span class="hljs-string">&quot;config&quot;</span> <span class="hljs-string">&quot;core.autocrlf&quot;</span> <span class="hljs-string">&quot;false&quot;</span>

  execute <span class="hljs-string">&quot;git&quot;</span> <span class="hljs-string">&quot;fetch&quot;</span> <span class="hljs-string">&quot;origin&quot;</span> <span class="hljs-string">&quot;--force&quot;</span>
  execute <span class="hljs-string">&quot;git&quot;</span> <span class="hljs-string">&quot;fetch&quot;</span> <span class="hljs-string">&quot;origin&quot;</span> <span class="hljs-string">&quot;--tags&quot;</span> <span class="hljs-string">&quot;--force&quot;</span>

  execute <span class="hljs-string">&quot;git&quot;</span> <span class="hljs-string">&quot;reset&quot;</span> <span class="hljs-string">&quot;--hard&quot;</span> <span class="hljs-string">&quot;origin/master&quot;</span>

  execute <span class="hljs-string">&quot;ln&quot;</span> <span class="hljs-string">&quot;-sf&quot;</span> <span class="hljs-string">&quot;<span class="hljs-variable">$&#123;HOMEBREW_REPOSITORY&#125;</span>/bin/brew&quot;</span> <span class="hljs-string">&quot;<span class="hljs-variable">$&#123;HOMEBREW_PREFIX&#125;</span>/bin/brew&quot;</span>

  execute <span class="hljs-string">&quot;<span class="hljs-variable">$&#123;HOMEBREW_PREFIX&#125;</span>/bin/brew&quot;</span> <span class="hljs-string">&quot;update&quot;</span> <span class="hljs-string">&quot;--force&quot;</span>
) || <span class="hljs-built_in">exit</span> 1

<span class="hljs-keyword">if</span> [[ <span class="hljs-string">&quot;:<span class="hljs-variable">$&#123;PATH&#125;</span>:&quot;</span> != *<span class="hljs-string">&quot;:<span class="hljs-variable">$&#123;HOMEBREW_PREFIX&#125;</span>/bin:&quot;</span>* ]]; <span class="hljs-keyword">then</span>
  warn <span class="hljs-string">&quot;<span class="hljs-variable">$&#123;HOMEBREW_PREFIX&#125;</span>/bin is not in your PATH.&quot;</span>
<span class="hljs-keyword">fi</span>

ohai <span class="hljs-string">&quot;Installation successful!&quot;</span>
<span class="hljs-built_in">echo</span>

<span class="hljs-comment"># Use the shell&#x27;s audible bell.</span>
<span class="hljs-keyword">if</span> [[ -t 1 ]]; <span class="hljs-keyword">then</span>
  <span class="hljs-built_in">printf</span> <span class="hljs-string">&quot;\a&quot;</span>
<span class="hljs-keyword">fi</span>

<span class="hljs-comment"># Use an extra newline and bold to avoid this being missed.</span>
ohai <span class="hljs-string">&quot;Homebrew has enabled anonymous aggregate formulae and cask analytics.&quot;</span>
<span class="hljs-built_in">echo</span> <span class="hljs-string">&quot;<span class="hljs-subst">$(cat &lt;&lt;EOS</span></span>
<span class="hljs-string"><span class="hljs-subst">$&#123;tty_bold&#125;Read the analytics documentation (and how to opt-out)</span> here:</span>
<span class="hljs-string">  <span class="hljs-variable">$&#123;tty_underline&#125;</span>https://docs.brew.sh/Analytics<span class="hljs-variable">$&#123;tty_reset&#125;</span></span>
<span class="hljs-string">No analytics data has been sent yet (or will be during this \`install\` run).</span>
<span class="hljs-string">EOS</span>
<span class="hljs-string">)</span>
<span class="hljs-string">&quot;</span>

ohai <span class="hljs-string">&quot;Homebrew is run entirely by unpaid volunteers. Please consider donating:&quot;</span>
<span class="hljs-built_in">echo</span> <span class="hljs-string">&quot;<span class="hljs-subst">$(cat &lt;&lt;EOS</span></span>
<span class="hljs-string"><span class="hljs-subst">  $&#123;tty_underline&#125;https://github.com/Homebrew/brew#donations$&#123;tty_reset&#125;</span></span>
<span class="hljs-string"><span class="hljs-subst">EOS</span></span>
<span class="hljs-string"><span class="hljs-subst">)</span></span>
<span class="hljs-string">&quot;</span>

(
  <span class="hljs-built_in">cd</span> <span class="hljs-string">&quot;<span class="hljs-variable">$&#123;HOMEBREW_REPOSITORY&#125;</span>&quot;</span> &gt;/dev/null || <span class="hljs-built_in">return</span>
  execute <span class="hljs-string">&quot;git&quot;</span> <span class="hljs-string">&quot;config&quot;</span> <span class="hljs-string">&quot;--replace-all&quot;</span> <span class="hljs-string">&quot;homebrew.analyticsmessage&quot;</span> <span class="hljs-string">&quot;true&quot;</span>
  execute <span class="hljs-string">&quot;git&quot;</span> <span class="hljs-string">&quot;config&quot;</span> <span class="hljs-string">&quot;--replace-all&quot;</span> <span class="hljs-string">&quot;homebrew.caskanalyticsmessage&quot;</span> <span class="hljs-string">&quot;true&quot;</span>
) || <span class="hljs-built_in">exit</span> 1

ohai <span class="hljs-string">&quot;Next steps:&quot;</span>
<span class="hljs-built_in">echo</span> <span class="hljs-string">&quot;- Run \`brew help\` to get started&quot;</span>
<span class="hljs-built_in">echo</span> <span class="hljs-string">&quot;- Further documentation: &quot;</span>
<span class="hljs-built_in">echo</span> <span class="hljs-string">&quot;    <span class="hljs-variable">$&#123;tty_underline&#125;</span>https://docs.brew.sh<span class="hljs-variable">$&#123;tty_reset&#125;</span>&quot;</span>

<span class="hljs-keyword">if</span> [[ -n <span class="hljs-string">&quot;<span class="hljs-variable">$&#123;HOMEBREW_ON_LINUX-&#125;</span>&quot;</span> ]]; <span class="hljs-keyword">then</span>
  <span class="hljs-keyword">case</span> <span class="hljs-string">&quot;<span class="hljs-variable">$SHELL</span>&quot;</span> <span class="hljs-keyword">in</span>
    */bash*)
      <span class="hljs-keyword">if</span> [[ -r <span class="hljs-string">&quot;<span class="hljs-variable">$HOME</span>/.bash_profile&quot;</span> ]]; <span class="hljs-keyword">then</span>
        shell_profile=<span class="hljs-string">&quot;<span class="hljs-variable">$HOME</span>/.bash_profile&quot;</span>
      <span class="hljs-keyword">else</span>
        shell_profile=<span class="hljs-string">&quot;<span class="hljs-variable">$HOME</span>/.profile&quot;</span>
      <span class="hljs-keyword">fi</span>
      ;;
    */zsh*)
      shell_profile=<span class="hljs-string">&quot;<span class="hljs-variable">$HOME</span>/.zprofile&quot;</span>
      ;;
    *)
      shell_profile=<span class="hljs-string">&quot;<span class="hljs-variable">$HOME</span>/.profile&quot;</span>
      ;;
  <span class="hljs-keyword">esac</span>

  cat &lt;&lt;<span class="hljs-string">EOS</span>
<span class="hljs-string">- Install the Homebrew dependencies if you have sudo access:</span>
<span class="hljs-string">  $&#123;tty_bold&#125;Debian, Ubuntu, etc.$&#123;tty_reset&#125;</span>
<span class="hljs-string">    sudo apt-get install build-essential</span>
<span class="hljs-string">  $&#123;tty_bold&#125;Fedora, Red Hat, CentOS, etc.$&#123;tty_reset&#125;</span>
<span class="hljs-string">    sudo yum groupinstall &#x27;Development Tools&#x27;</span>
<span class="hljs-string">  See $&#123;tty_underline&#125;https://docs.brew.sh/linux$&#123;tty_reset&#125; for more information.</span>
<span class="hljs-string">- Configure Homebrew in your $&#123;tty_underline&#125;$&#123;shell_profile&#125;$&#123;tty_reset&#125; by running</span>
<span class="hljs-string">    echo &#x27;eval \$($&#123;HOMEBREW_PREFIX&#125;/bin/brew shellenv)&#x27; &gt;&gt; $&#123;shell_profile&#125;</span>
<span class="hljs-string">- Add Homebrew to your $&#123;tty_bold&#125;PATH$&#123;tty_reset&#125;</span>
<span class="hljs-string">    eval \$($&#123;HOMEBREW_PREFIX&#125;/bin/brew shellenv)</span>
<span class="hljs-string">- We recommend that you install GCC by running:</span>
<span class="hljs-string">    brew install gcc</span>
<span class="hljs-string"></span>
<span class="hljs-string">EOS</span>
<span class="hljs-keyword">fi</span></code></pre>

<p>执行前,需要给改脚本赋权限</p>
<pre><code class="hljs bash">sudo chmod -R 777 brew_install.sh

./brew_install.sh</code></pre>

<p>等待安装成功(中间有过两次失败,主要原因是原来安装的Homebrew没有卸载干净)</p>
<h4 id="VMware-Fusion"><a href="#VMware-Fusion" class="headerlink" title="VMware Fusion"></a>VMware Fusion</h4><h5 id="物理内存不足，无法使用配置的设置开启虚拟机"><a href="#物理内存不足，无法使用配置的设置开启虚拟机" class="headerlink" title="物理内存不足，无法使用配置的设置开启虚拟机"></a>物理内存不足，无法使用配置的设置开启虚拟机</h5><p>原来的VMware Fusion 版本是11</p>
<p><img src="/images/Mac%E7%94%B5%E8%84%91%E4%BD%BF%E7%94%A8/vmfusion_11.png" srcset="/img/loading.gif"></p>
<p>Google后发现12可以用,于是下载了VMware Fusion安装,亲测可用</p>
<h5 id="无法将“Ethernet0”连接到虚拟网络“-dev-vmnet8”。"><a href="#无法将“Ethernet0”连接到虚拟网络“-dev-vmnet8”。" class="headerlink" title="无法将“Ethernet0”连接到虚拟网络“/dev/vmnet8”。"></a>无法将“Ethernet0”连接到虚拟网络“/dev/vmnet8”。</h5><p>VMware Fusion升级到12后，过了几天打开虚拟机时，发现“Ethernet0”连接到虚拟网络“/dev/vmnet8”</p>
<p>谷歌了好久后发现</p>
<pre><code class="hljs zsh">sudo rm /Library/Preferences/SystemConfiguration/NetworkInterfaces.plist &amp;&amp; sudo killall -9 configd</code></pre>

<p>解决方式来源：</p>
<p><a target="_blank" rel="noopener" href="https://communities.vmware.com/t5/VMware-Fusion-Discussions/No-Ethernet-Connection-VMware-Fusion-12-macOS-Big-Sur-Beta-6/m-p/2303833#M140209">https://communities.vmware.com/t5/VMware-Fusion-Discussions/No-Ethernet-Connection-VMware-Fusion-12-macOS-Big-Sur-Beta-6/m-p/2303833#M140209</a></p>
<p>另外，当苹果电脑共享wifi时，也会造成这个结果。所以共享网络也需要关闭。</p>
<h3 id="命令行查看保存的密码"><a href="#命令行查看保存的密码" class="headerlink" title="命令行查看保存的密码"></a>命令行查看保存的密码</h3><h4 id="security-find-generic-password-ga-“wifi名称”"><a href="#security-find-generic-password-ga-“wifi名称”" class="headerlink" title="security find-generic-password -ga “wifi名称”"></a>security find-generic-password -ga “wifi名称”</h4><p><img src="/images/Mac%E7%94%B5%E8%84%91%E4%BD%BF%E7%94%A8/wifi.png" srcset="/img/loading.gif"></p>

            </article>
            <hr>
            <div>
              <div class="post-metas mb-3">
                
                  <div class="post-meta mr-3">
                    <i class="iconfont icon-category"></i>
                    
                      <a class="hover-with-bg" href="/categories/Develop/">Develop</a>
                    
                  </div>
                
                
                  <div class="post-meta">
                    <i class="iconfont icon-tags"></i>
                    
                      <a class="hover-with-bg" href="/tags/mac/">mac</a>
                    
                  </div>
                
              </div>
              
                <p class="note note-warning">本博客所有文章除特别声明外，均采用 <a target="_blank" href="https://creativecommons.org/licenses/by-sa/4.0/deed.zh" rel="nofollow noopener noopener">CC BY-SA 4.0 协议</a> ，转载请注明出处！</p>
              
              
                <div class="post-prevnext row">
                  <div class="post-prev col-6">
                    
                    
                      <a href="/2020/06/24/Docker%E5%AE%89%E8%A3%85%E4%B8%8E%E4%BD%BF%E7%94%A8/">
                        <i class="iconfont icon-arrowleft"></i>
                        <span class="hidden-mobile">【Linux】Docker安装与使用</span>
                        <span class="visible-mobile">上一篇</span>
                      </a>
                    
                  </div>
                  <div class="post-next col-6">
                    
                    
                      <a href="/2020/06/17/mac%E7%8E%AF%E5%A2%83%E4%B8%8Bhadoop%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E9%85%8D%E7%BD%AE/">
                        <span class="hidden-mobile">【Mac】hadoop开发环境配置</span>
                        <span class="visible-mobile">下一篇</span>
                        <i class="iconfont icon-arrowright"></i>
                      </a>
                    
                  </div>
                </div>
              
            </div>

            
          </div>
        </div>
      </div>
    </div>
    
      <div class="d-none d-lg-block col-lg-2 toc-container" id="toc-ctn">
        <div id="toc">
  <p class="toc-header"><i class="iconfont icon-list"></i>&nbsp;目录</p>
  <div id="tocbot"></div>
</div>

      </div>
    
  </div>
</div>

<!-- Custom -->


    
  </main>

  
    <a id="scroll-top-button" href="#" role="button">
      <i class="iconfont icon-arrowup" aria-hidden="true"></i>
    </a>
  

  
    <div class="modal fade" id="modalSearch" tabindex="-1" role="dialog" aria-labelledby="ModalLabel"
     aria-hidden="true">
  <div class="modal-dialog modal-dialog-scrollable modal-lg" role="document">
    <div class="modal-content">
      <div class="modal-header text-center">
        <h4 class="modal-title w-100 font-weight-bold">搜索</h4>
        <button type="button" id="local-search-close" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body mx-3">
        <div class="md-form mb-5">
          <input type="text" id="local-search-input" class="form-control validate">
          <label data-error="x" data-success="v"
                 for="local-search-input">关键词</label>
        </div>
        <div class="list-group" id="local-search-result"></div>
      </div>
    </div>
  </div>
</div>
  

  

  

  <footer class="mt-5">
  <div class="text-center py-3">
    <div>
      <a href="https://hexo.io" target="_blank" rel="nofollow noopener"><span>Wei</span></a>
      <i class="iconfont icon-love"></i>
      <a href="https://github.com/weitrue" target="_blank" rel="nofollow noopener">
        <span>Trable</span></a>
    </div>
    

    
  <!-- 备案信息 -->
  <div class="beian">
    <a href="http://beian.miit.gov.cn/" target="_blank"
       rel="nofollow noopener">杭ICP证123456号</a>
    
      <a
        href="http://www.beian.gov.cn/portal/registerSystemInfo?recordcode=12345678"
        rel="nofollow noopener"
        class="beian-police"
        target="_blank"
      >
        <span class="beian-police-sep">&nbsp;|&nbsp;</span>
        
          <img src="/images/img/police_beian.png" srcset="/img/loading.gif" alt="police-icon" />
        
        <span>杭公网安备12345678号</span>
      </a>
     
  </div>


    
     <div>
  	<span id="timeDate">载入天数...</span>
 	<span id="times">载入时分秒...</span>
 	<script>
          var now = new Date();
          function createtime(){
           var grt= new Date("02/14/2020 00:00:00");//此处修改你的建站时间或者网站上线时间
           now.setTime(now.getTime()+250);
           days = (now - grt ) / 1000 / 60 / 60 / 24;
           dnum = Math.floor(days);
           hours = (now - grt ) / 1000 / 60 / 60 - (24 * dnum);
           hnum = Math.floor(hours);
           if(String(hnum).length ==1 ){
                hnum = "0" + hnum;
           }
           minutes = (now - grt ) / 1000 /60 - (24 * 60 * dnum) - (60 * hnum);
           mnum = Math.floor(minutes);
           if(String(mnum).length ==1 ){
                mnum = "0" + mnum;
           }
           seconds = (now - grt ) / 1000 - (24 * 60 * 60 * dnum) - (60 * 60 * hnum) - (60 * mnum);
           snum = Math.round(seconds);
           if(String(snum).length ==1 ){
                snum = "0" + snum;
           }
           document.getElementById("timeDate").innerHTML = "本站安全运行&nbsp"+dnum+"&nbsp天";
           document.getElementById("times").innerHTML = hnum + "&nbsp小时&nbsp" + mnum + "&nbsp分&nbsp" + snum + "&nbsp秒";
          }
          setInterval("createtime()",250);
       </script>
    </div>
 </div>
 </footer>

<!-- SCRIPTS -->
<script  src="https://cdn.staticfile.org/jquery/3.4.1/jquery.min.js" ></script>
<script  src="https://cdn.staticfile.org/twitter-bootstrap/4.4.1/js/bootstrap.min.js" ></script>
<script  src="/js/debouncer.js" ></script>
<script  src="/js/main.js" ></script>

<!-- Plugins -->


  
    <script  src="/js/lazyload.js" ></script>
  



  <script defer src="https://cdn.staticfile.org/clipboard.js/2.0.6/clipboard.min.js" ></script>
  <script  src="/js/clipboard-use.js" ></script>







  <script  src="https://cdn.staticfile.org/tocbot/4.11.1/tocbot.min.js" ></script>
  <script>
    $(document).ready(function () {
      var boardCtn = $('#board-ctn');
      var boardTop = boardCtn.offset().top;

      tocbot.init({
        tocSelector: '#tocbot',
        contentSelector: 'article.markdown-body',
        headingSelector: 'h1,h2,h3,h4,h5,h6',
        linkClass: 'tocbot-link',
        activeLinkClass: 'tocbot-active-link',
        listClass: 'tocbot-list',
        isCollapsedClass: 'tocbot-is-collapsed',
        collapsibleClass: 'tocbot-is-collapsible',
        collapseDepth: 0,
        scrollSmooth: true,
        headingsOffset: -boardTop
      });
      if ($('.toc-list-item').length > 0) {
        $('#toc').css('visibility', 'visible');
      }
    });
  </script>



  <script  src="https://cdn.staticfile.org/typed.js/2.0.11/typed.min.js" ></script>
  <script>
    var typed = new Typed('#subtitle', {
      strings: [
        '  ',
        "【Mac】Mac使用&nbsp;",
      ],
      cursorChar: "_",
      typeSpeed: 70,
      loop: false,
    });
    typed.stop();
    $(document).ready(function () {
      $(".typed-cursor").addClass("h2");
      typed.start();
    });
  </script>



  <script  src="https://cdn.staticfile.org/anchor-js/4.2.2/anchor.min.js" ></script>
  <script>
    anchors.options = {
      placement: "right",
      visible: "hover",
      
    };
    var el = "h1,h2,h3,h4,h5,h6".split(",");
    var res = [];
    for (item of el) {
      res.push(".markdown-body > " + item)
    }
    anchors.add(res.join(", "))
  </script>



  <script  src="/js/local-search.js" ></script>
  <script>
    var path = "/local-search.xml";
    var inputArea = document.querySelector("#local-search-input");
    inputArea.onclick = function () {
      searchFunc(path, 'local-search-input', 'local-search-result');
      this.onclick = null
    }
  </script>



  <script  src="https://cdn.staticfile.org/fancybox/3.5.7/jquery.fancybox.min.js" ></script>
  <link  rel="stylesheet" href="https://cdn.staticfile.org/fancybox/3.5.7/jquery.fancybox.min.css" />

  <script>
    $('#post img:not(.no-zoom img, img[no-zoom]), img[zoom]').each(
      function () {
        var element = document.createElement('a');
        $(element).attr('data-fancybox', 'images');
        $(element).attr('href', $(this).attr('src'));
        $(this).wrap(element);
      }
    );
  </script>







  
  
    <script type="text/javascript">
      //定义获取词语下标
      var a_idx = 0;
      jQuery(document).ready(function ($) {
        //点击body时触发事件
        $("body").click(function (e) {
          //需要显示的词语
          var a = new Array("富强", "民主", "文明", "和谐", "自由", "平等", "公正", "法治", "爱国", "敬业", "诚信", "友善");
          //设置词语给span标签
          var $i = $("<span/>").text(a[a_idx]);
          //下标等于原来下标+1  余 词语总数
          a_idx = (a_idx + 1) % a.length;
          //获取鼠标指针的位置，分别相对于文档的左和右边缘。
          //获取x和y的指针坐标
          var x = e.pageX, y = e.pageY;
          //在鼠标的指针的位置给$i定义的span标签添加css样式
          $i.css({
            "z-index": 999,
            "top": y - 20,
            "left": x,
            "position": "absolute",
            "font-weight": "bold",
            "color": rand_color()
          });
          // 随机颜色
          function rand_color() {
            return "rgb(" + ~~(255 * Math.random()) + "," + ~~(255 * Math.random()) + "," + ~~(255 * Math.random()) + ")"
          }
          //在body添加这个标签
          $("body").append($i);
          //animate() 方法执行 CSS 属性集的自定义动画。
          //该方法通过CSS样式将元素从一个状态改变为另一个状态。CSS属性值是逐渐改变的，这样就可以创建动画效果。
          //详情请看http://www.w3school.com.cn/jquery/effect_animate.asp
          $i.animate({
            //将原来的位置向上移动180
            "top": y - 180,
            "opacity": 0
            //1500动画的速度
          }, 1500, function () {
            //时间到了自动删除
            $i.remove();
          });
        });
      })
      ;
    </script>
  











  

  

  

  

  

  





<script src="/live2dw/lib/L2Dwidget.min.js?094cbace49a39548bed64abff5988b05"></script><script>L2Dwidget.init({"log":false,"pluginJsPath":"lib/","pluginModelPath":"assets/","pluginRootPath":"live2dw/","tagMode":false});</script></body>
</html>
